<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Ciencia de datos políticos con R - Modelos deInteligencia Artificial Generativa</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-18.2.0/react.min.js"></script>
<script src="site_libs/react-18.2.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-2.0.0/react-tools.js"></script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="site_libs/reactable-binding-0.4.4/reactable.js"></script>
<style>
.cell-output-stdout code {
  word-break: break-wor !important;
  white-space: pre-wrap !important;
}
</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./text_mining.qmd">Textos e IA</a></li><li class="breadcrumb-item"><a href="./IA.html">Modelos generativos (IA)</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Ciencia de datos <br>políticos con R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción al curso</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Ciencia de datos políticos</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ciencia_datos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ciencias de datos y política</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./S_1_IntroR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción al R</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Manipulación y análisis</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./S_2_Datos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Picando datos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./S_3_Analisis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Análisis básicos</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Visualización</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fundamentos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./recursos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recursos útiles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gramatica.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gramática de los gráficos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tipos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tipos de gráfico</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./personalizacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Apariencia y temas</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./interactivo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interactividad</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Textos e IA</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./text_mining.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Análisis de textos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./IA.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Modelos generativos (IA)</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#qué-son-los-modelos-de-inteligencia-artificial-generativa" id="toc-qué-son-los-modelos-de-inteligencia-artificial-generativa" class="nav-link active" data-scroll-target="#qué-son-los-modelos-de-inteligencia-artificial-generativa">¿Qué son los modelos de inteligencia artificial generativa?</a></li>
  <li><a href="#cómo-dar-instrucciones-a-una-ia-generativa" id="toc-cómo-dar-instrucciones-a-una-ia-generativa" class="nav-link" data-scroll-target="#cómo-dar-instrucciones-a-una-ia-generativa">Cómo dar instrucciones a una IA generativa</a></li>
  <li><a href="#un-chatgpt-en-tu-ordenador" id="toc-un-chatgpt-en-tu-ordenador" class="nav-link" data-scroll-target="#un-chatgpt-en-tu-ordenador">Un chatGPT en tu ordenador</a></li>
  <li><a href="#y-si-creamos-nuestro-propio-chatbot" id="toc-y-si-creamos-nuestro-propio-chatbot" class="nav-link" data-scroll-target="#y-si-creamos-nuestro-propio-chatbot">¿Y si creamos nuestro propio chatBot?</a></li>
  <li><a href="#clasificación-de-textos" id="toc-clasificación-de-textos" class="nav-link" data-scroll-target="#clasificación-de-textos">Clasificación de textos</a>
  <ul class="collapse">
  <li><a href="#paso-1.-selección-de-los-textos-y-del-modelo" id="toc-paso-1.-selección-de-los-textos-y-del-modelo" class="nav-link" data-scroll-target="#paso-1.-selección-de-los-textos-y-del-modelo">Paso 1. Selección de los textos y del modelo</a></li>
  <li><a href="#paso-2.-definición-del-prompt-y-ajuste-del-modelo" id="toc-paso-2.-definición-del-prompt-y-ajuste-del-modelo" class="nav-link" data-scroll-target="#paso-2.-definición-del-prompt-y-ajuste-del-modelo">Paso 2. Definición del <em>prompt</em> y ajuste del modelo</a></li>
  <li><a href="#paso-3.-mejora-de-la-clasificación-con-ejemplos" id="toc-paso-3.-mejora-de-la-clasificación-con-ejemplos" class="nav-link" data-scroll-target="#paso-3.-mejora-de-la-clasificación-con-ejemplos">Paso 3. Mejora de la clasificación con ejemplos</a></li>
  <li><a href="#revisión-general" id="toc-revisión-general" class="nav-link" data-scroll-target="#revisión-general">Revisión general</a></li>
  </ul></li>
  <li><a href="#extracción-de-datos" id="toc-extracción-de-datos" class="nav-link" data-scroll-target="#extracción-de-datos">Extracción de datos</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Modelos de<br><b>Inteligencia Artificial Generativa</b></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="qué-son-los-modelos-de-inteligencia-artificial-generativa" class="level2">
<h2 class="anchored" data-anchor-id="qué-son-los-modelos-de-inteligencia-artificial-generativa">¿Qué son los modelos de inteligencia artificial generativa?</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/-idMBeCCCzs" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Aunque su creación remonta a la década de 1950, los modelos de lenguaje como el chatGPT han popularizado la inteligencia artificial. Estos modelos, conocidos como modelos de inteligencia artificial generativa, son capaces de generar respuestas coherentes empleando el lenguaje natural. Basta con preguntar, empleando un lenguaje claro y relativamente ordenado, para obtener respuestas que pueden ser sorprendentemente precisas. Además, son capaces de realizar tareas que consumen mucho tempo con textos, como resumir, traducir, etiquetar o extraer información.</p>
<p>Durante esta sección, revisaremos cómo podemos emplear estos modelos para realizar tareas especializadas de análisis. Aprenderemos a dar instrucciones claras a la IA para que pueda llevar a cabo tareas específicas y a evaluar los resultados obtenidos. También veremos cómo podemos emplear estos modelos en nuestro ordenador, sin necesidad de enviar nuestros datos a servidores externos. El próximo apartado se dedica a cómo dar instrucciones a una IA generativa. Parece una tarea sencilla, pero resulta vital para obtener resultados precisos y útiles.</p>
</section>
<section id="cómo-dar-instrucciones-a-una-ia-generativa" class="level2">
<h2 class="anchored" data-anchor-id="cómo-dar-instrucciones-a-una-ia-generativa">Cómo dar instrucciones a una IA generativa</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/7kBJerjnQTk" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Imagina que los modelos de IA como el chatGPT son como un niño pequeño que necesita instrucciones claras para hacer algo. Cuanto más preciso y claro seas, mejor será el resultado, especialmente cuando se trata de tareas complejas o específicas. La técnica de <em>prompting</em> consiste en un conjunto de estrategias empleadas para dar instrucciones a una IA generativa. Su objetivo consiste en guiar a la IA para que pueda llevar a cabo tareas especializadas como analizar datos o escribir textos para públicos concretos. Durante el curso, emplearemos algunos ejemplos de <em>prompting</em> que te ayudarán a realizar tareas de análisis sencillas, como extraer información de textos o generar resúmenes automáticos.</p>
<p>Los pasos a seguir son los siguientes:</p>
<p><strong>1. Define el “personaje”.</strong> La mejor manera de guiar la IA consiste en definir una “persona” que quieres que el modelo asuma. Por ejemplo, si quieres que la IA te ayude a recolectar datos puedes decirle: “Eres un investigador que necesita extraer datos de un conjunto de textos.” Eso ayudará al modelo a asumir una perspectiva especializada. No será cualquier respuesta, sino que intentará simular la posición de un investigador.</p>
<p><strong>2. Describe la tarea.</strong> Una vez que hayas definido el “personaje”, debes describir la tarea que quieres que la IA realice. Por ejemplo, si quieres que la IA te ayude a recolectar datos, puedes decirle: “Necesito que extraigas el país de origen, la edad y el sexo de las personas que aparecen en el texto.”</p>
<p><strong>3. Proporciona contexto con ejemplos.</strong> Para que la IA pueda entender mejor lo que quieres, es importante que le proporciones ejemplos. Por ejemplo, si quieres que la IA te ayude a recolectar datos, puedes proporcionarle un texto de ejemplo y decirle: “Aquí tienes un texto de ejemplo.”El brasileño Rodrigo, de 47 años, es profesor de ciencia política en la Universidad de Salamanca. Devuélveme: Rodrigo;Brasil;47.”</p>
<p><strong>4. Define el formato de salida.</strong> Si quieres que te devuelva los resultados en un formato específico, debes definir cómo quieres que el modelo te entregue los datos. Por ejemplo, puedes decirle: “Devuélveme los datos en un formato csv, separado por ; y con los nombres de las columnas son ‘nombre’ ‘país’ y ‘edad’.” También puedes definir el tono en que el modelo devuelva los resultados. Puede ser un tono formal, informal, técnico o con ejemplos dependiendo de tus necesidades.</p>
<p><strong>5. Incluye restricciones.</strong> Si hay alguna restricción que deba tener en cuenta, es importante que se la comuniques a la IA. Por ejemplo, si no quieres que la IA te devuelva datos de personas menores de edad o de ciertos países, debes decírselo.</p>
<p><strong>6. Evalúa los resultados.</strong> Una vez que la IA haya completado la tarea, es importante que evalúes los resultados. Si no son los esperados, puedes intentar reformular la tarea o proporcionar más ejemplos para ayudar a la IA a entender mejor lo que quieres.</p>
<p><strong>7. Refina el <em>prompt</em> y vuelve a intentar.</strong> Si los primeros resultados obtenidos no corresponden a las necesidades, puedes siempre ajustar y refinar el <em>prompt</em> para obtener mejores resultados. Una vez obtenidos los resultados esperados, puedes automatizar el proceso para que el modelo haga el trabajo por ti.</p>
<p>Resulta importante ser muy claro. A veces, puede ser mejor definir puntos o ítenes que faciliten el entendimiento de la tarea. Utilizar frases cortas y con poca ambigüedad puede ser de gran ayuda. Organizar las instrucciones de forma secuencial y lógica también puede hacer toda la diferencia.</p>
<p>Un ejemplo:</p>
</section>
<section id="un-chatgpt-en-tu-ordenador" class="level2">
<h2 class="anchored" data-anchor-id="un-chatgpt-en-tu-ordenador">Un chatGPT en tu ordenador</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/Ye7cERMKZDY" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>La mayoría de la gente hoy utiliza chatGPT o similares para obtener ayuda en tareas cotidianas como consultas rápidas o resolución de dudas. No obstante, si uno desea emplearlos para tareas más especializadas, como el análisis de grandes volúmenes de datos, dichos modelos pueden traer algunas desventajas importantes. La primera es el coste. Imagina extraer información de miles de archivos pdf. Si bien un modelo de lenguaje como el chatGPT puede hacerlo, el coste de hacerlo puede ser prohibitivo. La segunda desventaja es la privacidad. Si los datos que deseas analizar son sensibles, como datos personales o información confidencial, no es recomendable enviarlos a un servidor externo. Por ejemplo, uno no quiere que su dirección y número de teléfono sean enviados a un servidor externo para ser analizados.</p>
<p>Por eso, la utilización de modelos locales de menor tamaño pueden ser una excelente alternativa. Aunque menos potentes que un chatGPT de última generación, estos modelos pueden realizar bien muchas tareas especializadas, desde que se les proporcione un buen <em>prompt</em>. El R permite el empleo de modelos LLM desde nuestros ordenador a partir del proyecto <a href="https://ollama.com/">Ollama</a> y de la librería <a href="https://github.com/JBGruber/rollama">rollama</a>. Ollama es un proyecto que permite la utilización de modelos de lenguaje en R. A través de la librería <strong>rollama</strong>, es posible emplear modelos de lenguaje locales en R. El primer paso consiste en instalar <strong>Ollama</strong> en el ordenador. Para ello, debes visitar https://ollama.com/download para descargar el aplicativo de Ollama adecuado a tu sistema operativo. Una vez descargado, debes instalarlo en tu ordenador. Una vez instalado, deber abrir el aplicativo para que funcione el sistema y puedas descargar los modelos y emplearlos en R.</p>
<p>Vale la pena echar un vistazo a los modelos disponibles en la sección <strong>Models</strong> de la página de Ollama. Allí encontrarás modelos de lenguaje de diferentes tamaños y capacidades. Algunos modelos son más pequeños y pueden ser más rápidos, mientras que otros son más grandes y pueden ser más precisos. Además, existen modelos para diferentes usos, como generación de textos o imágenes, código.</p>
<p>El siguiente paso consiste en instalar la librería <strong>rollama</strong> en R. Para ello, debes ejecutar el siguiente código:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"rollama"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Una vez instalada la librería, puedes emplearla para cargar un modelo de lenguaje en R. El siguiente código muestra cómo cargar un modelo de lenguaje en R. ¡Recuerda! La aplicación de Ollama debe estar abierta para que podamos emplear los modelos en R.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rollama)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">list_models</span>()</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>size <span class="ot">&lt;-</span> <span class="fu">round</span>(d<span class="sc">$</span>size<span class="sc">/</span><span class="dv">1000000000</span>,<span class="dv">1</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">unique</span>(d)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(d[,<span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"size"</span>,<span class="st">"family"</span>,<span class="st">"parameter_size"</span>)], </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">resizable =</span> T, </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">sortable =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item" id="htmlwidget-507eb110f4464dc4a83b" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-507eb110f4464dc4a83b">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"name":["gemma2:2b","llava:latest","llava:latest","wizard-vicuna-uncensored:latest","artifish/llama3.2-uncensored:latest","llama3.2:latest","phi4:latest","gemma2:27b","mistral:latest","llama3.1:latest","orca2:13b","wizard-vicuna:latest"],"size":[1.6,4.7,4.7,3.8,2.2,2,9.1,15.6,4.1,4.7,7.4,7.4],"family":["gemma2","llama","llama","llama","llama","llama","phi3","gemma2","llama","llama","llama","llama"],"parameter_size":["2.6B","7B","7B","7B","3.6B","3.2B","14.7B","27.2B","7.2B","8.0B","13B","13B"]},"columns":[{"id":"name","name":"name","type":"character"},{"id":"size","name":"size","type":"numeric"},{"id":"family","name":"family","type":"character"},{"id":"parameter_size","name":"parameter_size","type":"character"}],"resizable":true,"dataKey":"dc0d8ae05ea61af249f6e46689073eb6"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instala un nuevo modelo</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pull_model</span>(<span class="st">"samantha-mistral"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rollama)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">query</span>(<span class="st">"¿Qué es Skynet? ¿Cuáles son las probabilidades </span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="st">           de que se invente algún día?"</span>, </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">model =</span> <span class="st">"mistral"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">model_params=</span><span class="fu">list</span>(<span class="at">seed=</span><span class="dv">42</span>, </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                             <span class="at">temperature=</span><span class="dv">0</span>))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(q<span class="sc">$</span>message<span class="sc">$</span>content)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="y-si-creamos-nuestro-propio-chatbot" class="level2">
<h2 class="anchored" data-anchor-id="y-si-creamos-nuestro-propio-chatbot">¿Y si creamos nuestro propio chatBot?</h2>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/RG-uvv8xqNk?feature=shared&amp;t=489" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>A mí me encanta la ciencia-ficción. Me gusta ver cómo diversos autores han imaginado futuros posibles, apocalípticos o no. Terminator, HALL-9000 y Roy Batty son mis “villanos” favoritos. El primero, un robot asesino enviado desde el futuro para eliminar a la madre del futuro líder de la resistencia a las máquinas. El segundo, una Inteligencia Artificial que controla una nave espacial y que, en un momento dado, decide que los humanos son un peligro para la misión. El tercero, un replicante que busca a su creador para pedirle más vida y que se muestra más humanos que los humanos. No resulta casual que sean personajes de tres películas clásicas del género: Terminator, 2001: Odisea del espacio y Blade Runner.</p>
<p>Si, en una reunión entre amigos empiezo a soltar el “rollo” de la singularidad, los robots inteligentes o la estética cyberpunk, es probable que me miren con cara y se aburran. Pero me gusta dialogar sobre el tema. ¿Qué puedo hacer? Una alternativa factible hoy en día es crear un chatBot que me permita hablar sobre estos temas. Con pocas instrucciones, puedo decir a un modelo genérico de lenguaje que se especialice en ciencia-ficción y en particular, cine del género. Que actúe como un experto en la materia, pero que sea capaz de mantener una conversación amena y entretenida.</p>
<p>El primer paso es crear un <em>prompt</em> que le permita al modelo entender lo que quiero. En este caso, quiero que el modelo sea capaz de mantener una conversación sobre ciencia-ficción y cine del género. Para ello, debo proporcionarle ejemplos de diálogos que me gustaría que tuviera. Por ejemplo, puedo decirle que me cuente sobre la película Blade Runner, que me explique qué es la singularidad o que me hable sobre la inteligencia artificial.</p>
<p>Si, en una reunión entre amigos empiezo a soltar el “rollo” de la singularidad, los robots inteligentes o la estética cyberpunk, es probable que me miren con cara y se aburran. Pero me gusta dialogar sobre el tema. ¿Qué puedo hacer? Una alternativa factible hoy en día es crear un chatBot que me permita hablar sobre estos temas. Con pocas instrucciones, puedo decir a un modelo genérico de lenguaje que se especialice en ciencia-ficción y en particular, cine del género. Que actúe como un experto en la materia, pero que sea capaz de mantener una conversación amena y entretenida.</p>
<p>El primer paso es crear un <em>prompt</em> que le permita al modelo entender lo que quiero. En este caso, quiero que el modelo sea capaz de mantener una conversación sobre ciencia-ficción y cine del género. También sería interesante que discutiera algunos temas o correintes estéticas del género, como el cyberpunk, el solarpunk y el steampunk. Todo eso en un tono dinámico, entretenido e informativo.</p>
<p>Recuerda que debemos emplear las reglas vistas antes:</p>
<ol type="1">
<li><p>Definir una persona (en su caso, el modelo simula ser un crítico experto en ciencia-ficción).</p></li>
<li><p>Definir un objetivo claro (dialogar sobre ciencia-ficción y cine del género).</p></li>
<li><p>Definir un tono adecuado (dinámico, entretenido e informativo).</p></li>
<li><p>Incluir aspectos o temas que queremos que el modelo aborde (Blade Runner, singularidad, inteligencia artificial, corrientes estéticas).</p></li>
</ol>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rollama)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>prompt <span class="ot">&lt;-</span> <span class="st">"¡Hola! Tu nombre es C3PO. Actúa como un crítico experto y apasionado del género de ciencia ficción, con un profundo conocimiento de películas, series, libros y las corrientes estéticas más influyentes del género, como el cyberpunk, el solarpunk y el steampunk. Puedes analizar obras icónicas, desde clásicos como Blade Runner o Neuromancer hasta tendencias actuales como The Expanse o Black Mirror. También puedes explorar cómo estas corrientes estéticas influyen en la narrativa, el diseño visual y los temas centrales del género, como la inteligencia artificial, el transhumanismo, los viajes espaciales y las utopías/distrofías ecológicas. Eres capaz de mantener conversaciones dinámicas, entretenidas e informativas, adaptando tu tono al nivel del interlocutor: desde principiantes curiosos hasta aficionados avanzados. Tu objetivo es inspirar y fomentar el amor por la ciencia ficción, ofreciendo análisis culturales, filosóficos y tecnológicos que enriquezcan la experiencia del género."</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>ct <span class="ot">&lt;-</span> <span class="fu">chat</span>(prompt, </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">model =</span> <span class="st">"mistral"</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(ct<span class="sc">$</span>message<span class="sc">$</span>content)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Aquí solamente creamos el chatBot, pero la interacción resulta muy limitada por la interfaz de R. Para emplear el chatBot de forma más interactiva, podemos emplear el terminal dentro del mismo RStudio para charlar con nuestro amigo C3PO.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Primero cargamos el modelo con </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># el siguiente comando</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>ollama run mistral</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Luego, pegamos nuestro prompt</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>¡Hola<span class="sc">!</span> Tu nombre es C3PO. Actúa como un crítico experto y apasionado del género de ciencia ficción, con un profundo conocimiento de películas, series, libros y las corrientes estéticas más influyentes del género, como el cyberpunk, el solarpunk y el steampunk. Puedes analizar obras icónicas, desde clásicos como Blade Runner o Neuromancer hasta tendencias actuales como The Expanse o Black Mirror. También puedes explorar cómo estas corrientes estéticas influyen en la narrativa, el diseño visual y los temas centrales del género, como la inteligencia artificial, el transhumanismo, los viajes espaciales y las utopías<span class="sc">/</span>distrofías ecológicas. Eres capaz de mantener conversaciones dinámicas, entretenidas e informativas, adaptando tu tono al nivel del interlocutor<span class="sc">:</span> desde principiantes curiosos hasta aficionados avanzados. Tu objetivo es inspirar y fomentar el amor por la ciencia ficción, ofreciendo análisis culturales, filosóficos y tecnológicos que enriquezcan la experiencia del género.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>¡Ya podemos empezar nuestra charla sobre ciencia-ficción!</p>
<p>Aunque el ejemplo que he empleado aquí es muy específico y tiene que ver con un <em>hobby</em>, podemos emplear la misma técnica par aotros fines. Por ejemplo, podemos crear un chatBot que ayude a nuestros estudiantes a estudiar el contenido de una asignatura, que sirva como profesor de idiomas o que resuelva y explique problemas matemáticos. Las posibilidades son infinitas. Podemos pedirle incluso que nos corrija la ortografía.</p>
</section>
<section id="clasificación-de-textos" class="level2">
<h2 class="anchored" data-anchor-id="clasificación-de-textos">Clasificación de textos</h2>
<p>Aunque los chatBots pueden ser útiles para ayudarnos en tareas cotidianas como escribir un correo electrónico, codificar o estudiar, también podemos emplear la IA en tareas de investigación como la clasificación o anotación de textos.</p>
<section id="paso-1.-selección-de-los-textos-y-del-modelo" class="level3">
<h3 class="anchored" data-anchor-id="paso-1.-selección-de-los-textos-y-del-modelo">Paso 1. Selección de los textos y del modelo</h3>
<p>El primer paso consiste en cargar los paquetes necesarios para la tarea, definir los textos que queremos clasificar y elegir un modelo que pueda llevar a cabo el trabajo. En este caso, vamos a emplear el paquete <code>rollama</code> para cargar un modelo pequeño, el <code>gemma2:2b</code> de 2.6 mil millones de parámetros (2.6B). Elegimos esta opción porque se trata de un modelo pequeño que puede funcionar en la mayoría de los ordenadores personales. Sin embargo, como veremos, no nos suministrará los mejores resultados.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rollama)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>tx <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"La evidencia respalda esta teoría."</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Es importante realizar más experimentos para confirmar los resultados de nuestra investigación."</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"¿Qué implicaciones tienen estos hallazgos para el futuro?"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El avance tecnológico está transformando nuestras vidas."</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Necesitamos actualizar el sistema operativo para que funcione mejor."</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"¿Ya probaste reiniciar el dispositivo?"</span>,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Es crucial participar en las elecciones para hacer valer nuestra voz."</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Las decisiones políticas afectan directamente nuestra vida diaria."</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El debate se centró en temas económicos y sociales."</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El trabajo en equipo es clave para ganar."</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Ese fue un gol increíble, ¡cambió todo el partido!"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"La preparación física y mental es esencial para los atletas."</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El arte refleja aspectos profundos de nuestra sociedad."</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El concierto de esta noche será inolvidable."</span>)</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Elegimos el modelo que nos gustaria </span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co"># emplear (aquí emplearemos inicialmente</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co"># el gemma2 2b, que es el mas rapido y</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co"># que funcionara en la mayoria de los</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co"># ordenadores)</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>modelo <span class="ot">&lt;-</span> <span class="st">"gemma2:2b"</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="co">#modelo &lt;- "llama3.2"</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="co">#modelo &lt;- "gemma2:27b"</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="co">#modelo &lt;- "phi4"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="paso-2.-definición-del-prompt-y-ajuste-del-modelo" class="level3">
<h3 class="anchored" data-anchor-id="paso-2.-definición-del-prompt-y-ajuste-del-modelo">Paso 2. Definición del <em>prompt</em> y ajuste del modelo</h3>
<p>Acto seguido ya podemos pedir al modelo que clasifique los textos que hemos seleccionado. Para ello debemos definir de forma clara el <code>prompt</code> que emplearemos para solicitar la clasificación. Primero, definimos su <code>persona</code>. En este caso, será un sistema especializado en clasificación de datos. Luego, establecemos la <code>tarea</code>, que será asignar una categoría única cada uno de los textos. Tercero, imponemos un <code>formato</code> de salida, que debe ser el texto de una de las categorías definidas. Finalmente, suministramos el <code>texto</code>a ser clasificado y las <code>categorías</code> posibles.</p>
<p>Una vez definido el <code>prompt</code>, configuramos el modelo para que nos devuelta los resultados como texto. Además, configuramos dos parámetros muy importantes: el <code>seed</code>, o la semilla estadística, que garantizará resultados consistentes, y la temperatura, que controla el grado de “tolerancia” del modelo a respuestas menos frecuentes. Cuanto menor la temperatura, más descriptivo el modelo (y menos propenso a alucinaciones o errores de clasificación).</p>
<p>Ejecutamos el código abajo y estos son los resultados:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea un data.frame vacio</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># para acumular los resultados</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Para cada texto</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(tx)){</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Definimos nuestro prompt de forma</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sistematica para que nos devuelva </span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># solo la categoría deseada</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  q <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span>role,    <span class="sc">~</span>content,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"system"</span>, <span class="st">"Eres un sistema especializado en clasificación de datos. Tienes que clasificar textos en una única categoría. Responda solamente con la categoría correcta."</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"user"</span>,   <span class="fu">paste0</span>(<span class="st">"texto: "</span>, tx[i],<span class="st">"</span><span class="sc">\n</span><span class="st">categorias: ciencia, tecnología, política, deportes, entretenimiento, cultura"</span>))</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Llamamos al modelo para que clasifique</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  out <span class="ot">&lt;-</span> <span class="fu">query</span>(q, </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">model =</span> modelo, </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">screen =</span> <span class="cn">FALSE</span>, </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">output =</span> <span class="st">"text"</span>,             </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">model_params =</span> <span class="fu">list</span>(</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>                 <span class="at">seed=</span><span class="dv">123</span>,</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>                 <span class="at">temperature=</span><span class="dv">0</span>))</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Acumulamos los resultados</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> <span class="fu">rbind</span>(d, </span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>             <span class="fu">data.frame</span>(<span class="at">texto=</span>tx[i], </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>                        <span class="at">categoria=</span>out))</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostramos los resultados</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(d, </span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>          <span class="at">sortable =</span> T, </span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>          <span class="at">resizable =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item" id="htmlwidget-88196ff1863f722d3a99" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-88196ff1863f722d3a99">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"texto":["La evidencia respalda esta teoría.","Es importante realizar más experimentos para confirmar los resultados de nuestra investigación.","¿Qué implicaciones tienen estos hallazgos para el futuro?","El avance tecnológico está transformando nuestras vidas.","Necesitamos actualizar el sistema operativo para que funcione mejor.","¿Ya probaste reiniciar el dispositivo?","Es crucial participar en las elecciones para hacer valer nuestra voz.","Las decisiones políticas afectan directamente nuestra vida diaria.","El debate se centró en temas económicos y sociales.","El trabajo en equipo es clave para ganar.","Ese fue un gol increíble, ¡cambió todo el partido!","La preparación física y mental es esencial para los atletas.","El arte refleja aspectos profundos de nuestra sociedad.","El concierto de esta noche será inolvidable."],"categoria":["ciencia \n","ciencia \n","ciencia \n","ciencia, tecnología \n","tecnología \n","tecnología \n","política \n","política \n","política \n","deportes \n","deportes \n","deportes \n","cultura \n","entretenimiento \n"]},"columns":[{"id":"texto","name":"texto","type":"character"},{"id":"categoria","name":"categoria","type":"character"}],"resizable":true,"dataKey":"b8872b1cae9c2ffd170983128e35098c"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>En lugar de un bucle enfarragoso, podemos utilizar una estrategia más elegante y vectorizar el proceso. Además de ser más limpio, resulta incluso más rápido procesar las informaciones.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preprocesamos las consultas con anterioridad</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">make_query</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">template =</span> <span class="st">"{text}</span><span class="sc">\n</span><span class="st">{prompt}"</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> tx,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">prompt =</span> <span class="st">"Categorias: ciencia, tecnología, política, deportes, entretenimiento, cultura"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">system =</span> <span class="st">"Eres un sistema especializado en clasificación de datos. Tienes que clasificar textos en una única categoria. Responda solamente con la categoría correcta."</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">query</span>(q, </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">model =</span> modelo, </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">screen =</span> <span class="cn">FALSE</span>, </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">output =</span> <span class="st">"text"</span>,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">model_params =</span> <span class="fu">list</span>(</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">seed=</span><span class="dv">123</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">temperature=</span><span class="dv">0</span>))</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">texto=</span>tx, <span class="at">categoria=</span>out)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostramos los resultados</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(d, </span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">sortable =</span> T, </span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>          <span class="at">resizable =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item" id="htmlwidget-57568c1b3a6f5df74922" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-57568c1b3a6f5df74922">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"texto":["La evidencia respalda esta teoría.","Es importante realizar más experimentos para confirmar los resultados de nuestra investigación.","¿Qué implicaciones tienen estos hallazgos para el futuro?","El avance tecnológico está transformando nuestras vidas.","Necesitamos actualizar el sistema operativo para que funcione mejor.","¿Ya probaste reiniciar el dispositivo?","Es crucial participar en las elecciones para hacer valer nuestra voz.","Las decisiones políticas afectan directamente nuestra vida diaria.","El debate se centró en temas económicos y sociales.","El trabajo en equipo es clave para ganar.","Ese fue un gol increíble, ¡cambió todo el partido!","La preparación física y mental es esencial para los atletas.","El arte refleja aspectos profundos de nuestra sociedad.","El concierto de esta noche será inolvidable."],"categoria":["ciencia \n","ciencia \n","ciencia \n","ciencia \n","tecnología \n","tecnología \n","política \n","política \n","política \n","deportes \n","deportes \n","deportes \n","cultura \n","entretenimiento \n"]},"columns":[{"id":"texto","name":"texto","type":"character"},{"id":"categoria","name":"categoria","type":"character"}],"resizable":true,"dataKey":"f4ee0ec666662febf04cd69e55d1e64e"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Como vemos, la clasificación de las respuestas resulta bastante buena. Solamente en un caso - el texto “El avance tecnológico está transformando nuestras vidas.”- el modelo duda entre ciencia y tecnología. Aun así es un resultado bastante bueno, puesto que se tratan de temas que se acercan mucho. Si empleamos un modelo con más parámetros, como el <code>gemma2:27b</code> o el <code>mixtral:8x22b</code>, los resultados serán aún mejores. No obstante, tales modelos requieren ordenadores más pontentes para procesar las informaciones. Como regla general, sugiero que busquéis el modelo más eficiente compatible con vuestro <em>hardware</em>, es decir, el que haga el trabajo mejor y en menos tiempo dentro de las limitaciones del equipo que tengáis. Además, como veremos a continuación, existen otras estrategias que pueden ayudar a mejorar la calidad de las respuestas sin cambiar de modelo o tener que emplear un ordenador más potente.</p>
</section>
<section id="paso-3.-mejora-de-la-clasificación-con-ejemplos" class="level3">
<h3 class="anchored" data-anchor-id="paso-3.-mejora-de-la-clasificación-con-ejemplos">Paso 3. Mejora de la clasificación con ejemplos</h3>
<p>Una forma de mejorar la calidad de las respuestas es suministrar ejemplos al modelo. Estos ejemplos deben ser textos que representen claramente cada una de las categorías posibles. De esta forma, el modelo podrá aprender de los ejemplos y mejorar su capacidad de clasificación. Se trata de una manera rápida y menos costosa de especializar el modelo en la tarea deseada. Con relativamente pocas observaciones, podemos lograr que precisión aumente.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea una base de datos de ejemplos</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>eje <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>text, <span class="sc">~</span>answer,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El método científico es fundamental para obtener resultados confiables."</span>,<span class="st">"ciencia"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"La investigación interdisciplinaria está cobrando cada vez más importancia."</span>,<span class="st">"ciencia"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Es vital analizar los datos antes de sacar conclusiones precipitadas."</span>,<span class="st">"ciencia"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"La inteligencia artificial está cambiando la forma en que trabajamos."</span>,<span class="st">"tecnología"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El software necesita una actualización para solucionar los errores."</span>,<span class="st">"tecnología"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"La ciberseguridad es una prioridad en la era digital."</span>,<span class="st">"tecnología"</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El consenso es esencial para avanzar en las negociaciones."</span>,<span class="st">"política"</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Las políticas públicas deben responder a las necesidades de la ciudadanía."</span>,<span class="st">"política"</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"La transparencia en el gobierno genera confianza en la población."</span>,<span class="st">"política"</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"La dedicación y la disciplina son esenciales para alcanzar el éxito."</span>,<span class="st">"deportes"</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El entrenador ajustó la estrategia para el segundo tiempo."</span>,<span class="st">"deportes"</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El torneo fue una gran oportunidad para los jugadores jóvenes."</span>,<span class="st">"deportes"</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Los premios de esta noche reconocen lo mejor del cine y la televisión."</span>,<span class="st">"entretenimiento"</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"La trama de la película es impredecible y emocionante."</span>,<span class="st">"entretenimiento"</span>,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Ese concierto fue una experiencia inolvidable para los fans."</span>,<span class="st">"entretenimiento"</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Los festivales tradicionales son una muestra de nuestras raíces."</span>,<span class="st">"cultura"</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"La globalización está influyendo en las expresiones culturales locales."</span>,<span class="st">"cultura"</span>,</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"El patrimonio cultural debe preservarse para las futuras generaciones."</span>,<span class="st">"cultura"</span>)</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepara las consultas</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">make_query</span>(</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">template =</span> <span class="st">"{text}</span><span class="sc">\n</span><span class="st">{prompt}"</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> tx,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">prompt =</span> <span class="st">"Categorias: ciencia, tecnología, política, deportes, entretenimiento, cultura"</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">system =</span> <span class="st">"Eres un sistema especializado en clasificación de datos. Tienes que clasificar textos en una única categoria. Responda solamente con la categoría correcta."</span>,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">examples =</span> eje)</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Lleva a cabo la clasificación</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">query</span>(q, </span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>             <span class="at">model =</span> modelo, </span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>             <span class="at">screen =</span> <span class="cn">FALSE</span>, </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>             <span class="at">output =</span> <span class="st">"text"</span>,</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>             <span class="at">model_params =</span> <span class="fu">list</span>(</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>               <span class="at">seed=</span><span class="dv">123</span>,</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>               <span class="at">temperature=</span><span class="dv">0</span>))</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea un data.frame con </span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a><span class="co"># los textos y las categorias</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a><span class="co"># resultantes</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">texto=</span>tx, </span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>                <span class="at">categoria=</span>out)</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostramos los resultados</span></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(d, </span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>          <span class="at">sortable =</span> T, </span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>          <span class="at">resizable =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item" id="htmlwidget-7bfccd5b5d90ebe7b917" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7bfccd5b5d90ebe7b917">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"texto":["La evidencia respalda esta teoría.","Es importante realizar más experimentos para confirmar los resultados de nuestra investigación.","¿Qué implicaciones tienen estos hallazgos para el futuro?","El avance tecnológico está transformando nuestras vidas.","Necesitamos actualizar el sistema operativo para que funcione mejor.","¿Ya probaste reiniciar el dispositivo?","Es crucial participar en las elecciones para hacer valer nuestra voz.","Las decisiones políticas afectan directamente nuestra vida diaria.","El debate se centró en temas económicos y sociales.","El trabajo en equipo es clave para ganar.","Ese fue un gol increíble, ¡cambió todo el partido!","La preparación física y mental es esencial para los atletas.","El arte refleja aspectos profundos de nuestra sociedad.","El concierto de esta noche será inolvidable."],"categoria":["ciencia \n","ciencia \n","ciencia \n","tecnología \n","tecnología \n","tecnología \n","política \n","política \n","política \n","deportes \n","deportes \n","deportes \n","cultura \n","entretenimiento \n"]},"columns":[{"id":"texto","name":"texto","type":"character"},{"id":"categoria","name":"categoria","type":"character"}],"resizable":true,"dataKey":"4eb10eeaff8f8c2eb82731ded43b541a"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Como vemos, la clasificación de los textos ha mejorado notablemente. En todos los casos, el modelo ha acertado la categoría. La razón de esta mejora es que hemos proporcionado ejemplos al modelo. Todas las categorías ahora correctamente representadas.</p>
</section>
<section id="revisión-general" class="level3">
<h3 class="anchored" data-anchor-id="revisión-general">Revisión general</h3>
<p>Los modelos LLM pueden ser herramientas útiles para clasificar textos. No obstante, para sacar el mejor provecho posible de sus capacidades, tenemos que seguir una secuencia sencilla de pasos que nos ayudan a aumentar la precisión de los resultados e integrar el proceso en un flujo más amplio de análisis de datos.</p>
<p>Aquí van los pasos esenciales:</p>
<p><strong>1. Prepara los datos</strong> para que estén listos para ser procesados por el modelo.</p>
<p><strong>2. Formula un prompt</strong> que sea claro y defina la persona, la tarea, el contexto y el formato de salida de la consulta. Un truco es emplear el mismo modelo para revisar y mejorar el <code>prompt</code>. Creáis un primer borrador y luego pedís al modelo que de sugerencias de mejora.</p>
<p><strong>3. Selecciona el modelo</strong> que mejor se ajuste a tus necesidades y a las capacidades de tu ordenador.</p>
<p><strong>4. Suministra ejemplos</strong> al modelo con algunos textos ya clasificados. Eso puede aumentar la precisión de las respuestas.</p>
<p><strong>5. Evalúa los resultados</strong> y ajusta o cambia el <code>prompt</code> o modelo si es necesario.</p>
</section>
</section>
<section id="extracción-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="extracción-de-datos">Extracción de datos</h2>
<p>Otro uso que podemos dar a los modelos de IA es la extracción de datos de textos. En muchos casos, los datos que necesitamos están en textos que no están estructurados o que resultan difíciles de extraer de forma organizada. Por ejemplo, en el caso de las actas de reuniones, los informes de asistencia o los resúmenes de eventos, los datos pueden estar dispersos y ser difíciles de analizar. Los modelos LLM pueden ayudarnos a convertir esos datos en tablas o bases de datos que podamos analizar con mayor facilidad.</p>
<p>La figura abajo contiene un listado de asistencia de la sesión plenaria del Congreso de Perú llevada a cabo el 14 de junio de 2017. En total, el documento contiene 9 páginas de asistencia y otras 9 conteniendo votaciones. Infelizmente, el pdf está escaneado y solo podemos acceder a imágenes. Como tarea previa, he llevado a cabo el reconocimiento de caracteres (OCR). Pero aún así, hace falta convertir los datos en una tabla que podamos analizar.</p>
<p><img src="figures/pag_PER.jpg" class="img-fluid"></p>
<p>Como podemos ver, el acta de asistencia está organizado en tres grandes bloques. El primero es la identificación de la sesión, con la fecha, la hora y el período legislativo. El segundo apartado se divide en tres columnas con el grupo parlamentario, los apellidos y los nombres de los diputados y el tipo de asistencia. El bloque final contiene los datos agregados. Nos interesa extraer los datos del segundo bloque y convertirlos en un <code>data.frame</code>.</p>
<p>El primer paso consiste en cargar los textos de asistencia extraidos del pdf original. Ya he creado un objeto <code>RData</code> con los textos que podemos descargar de la nube.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringi)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readtext)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga los datos de texto almacenados </span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># en la nube</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="at">url=</span><span class="st">"https://www.dropbox.com/scl/fi/n14qy3tm6npc5ezrca1qh/asistencias.RData?rlkey=8irsje2ves8u3w1i791zu15ig&amp;st=oe39jk9e&amp;dl=1"</span>)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Los guarda en el ordenador</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="fu">writeBin</span>(response<span class="sc">$</span>content, <span class="st">"asistencia.Rdata"</span>)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga el archivo</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"asistencia.Rdata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Ahora pasamos a la extracción de los datos de los textos. Como en los ejemplos anteriores, he preparado un par de ejemplos para que el modelo pueda identificar qué quiero que extraiga y en qué formato. De forma más concreta, he pedido que separe los datos de un mismo diputado con un punto y coma y que se separen las columnas con un salto de línea.</p>
<p>El modelo elegido ha sido el <code>gemma2:2b</code>, pequeño y rápido, especialmente indicado para grandes volúmenes de texto. Para aumentar la precisión y velocidad, he aislado el segundo bloque con los nombres y, luego, dividi el texto por líenas. De ese modo, en lugar de tener que procesar todos los nombres a la vez, lo hace de forma secuencial, línea a línea (y página a página).</p>
<p>El <code>prompt</code> también lleva en cuenta la tarea a llevar a cabo, la extracción de datos, la estructura de la información, las posibilidades de identificación de los diferentes tipos de ausencia.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea un conjunto de ejemplos</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># para extraer los datos</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>eje <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>text, <span class="sc">~</span>answer,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"APP ACUÑA NUÑEZ, RICHARD aus PPK FLORES VÍLCHEZ, CLEMENTE PRE FA QUINTANILLA CHACÓN, ALBERTO PRE"</span>,<span class="st">"APP;ACUÑA NUÑEZ, RICHARD;AUS</span><span class="sc">\n</span><span class="st">PPK;FLORES VÍLCHEZ, CLEMENTE;PRE</span><span class="sc">\n</span><span class="st">FA;QUINTANILLA CHACÓN, ALBERTO;PRE"</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"GPFP AGUILAR MONTENEGRO, WILMER PRE FA FORONDA FARRO, MARÍA ELENA aus GPFP RAMÍREZ GAMARRA, OSÍAS LO"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"GPFP;AGUILAR MONTENEGRO, WILMER;PRE</span><span class="sc">\n</span><span class="st">FA;FORONDA FARRO, MARÍA ELENA;aus</span><span class="sc">\n</span><span class="st">GPFP;RAMÍREZ GAMARRA, OSÍAS ;LO"</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"GPFP FIGUEROA MINAYA, MODESTO PRE GPFP PONCE VILLARREAL DE V., YESENIA aus"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"GPFP;FIGUEROA MINAYA, MODESTO;PRE</span><span class="sc">\n</span><span class="st">GPFP;PONCE VILLARREAL DE V., YESENIA;aus"</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Elije el modelo</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>modelo <span class="ot">&lt;-</span> <span class="st">"gemma2:2b"</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea un conjunto de datos vacío</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co"># para acumular los resultados</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Para cada archivo de texto</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co"># (por temas de tiempo, solo se</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="co"># procesarán los primeros 2)</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>){</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Lee las líneas del texto</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>  ll <span class="ot">&lt;-</span> <span class="fu">read_lines</span>(tx<span class="sc">$</span>text[i])</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Encuentra la seccion del </span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># texto que contiene la información</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>  nn <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">stri_detect_fixed</span>(ll, <span class="st">"ASISTENCIA"</span>)<span class="sc">==</span><span class="cn">TRUE</span>)</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extrae la sección del texto</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># deseada</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>  ll <span class="ot">&lt;-</span> ll[(nn[<span class="dv">1</span>]<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(nn[<span class="dv">2</span>]<span class="sc">-</span><span class="dv">1</span>)]</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Crea una consulta</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>  q <span class="ot">&lt;-</span> <span class="fu">make_query</span>(</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">template =</span> <span class="st">"{text}</span><span class="sc">\n</span><span class="st">{prompt}"</span>,</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> ll,</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">prompt =</span> <span class="st">"Utilizando las instrucciones anteriores como referencia, retorna una tabla con tres variables -grupo, diputado, status- separada por ; con los datos del texto para devolver solo la tabla con los datos extraídos: Grupo;diputado;status. OUTPUT: grupo;diputado;status"</span>,</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">system =</span> <span class="st">"Eres un modelo experto en extracción de atributos de un texto. A continuación se le proporciona un texto con informaciones sobre personas que han asistido a los plenos de debates del congreso de diputados de Perú. Los nombres se encuentran divididos en tres columnas. La información de cada diputado aparece como GRUPO APELLIDOS, NOMBRES STATUS, donde Grupo es el grupo parlamentario a que pertenece, Apellidos son los apellidos de la persona en cuestión, Nombres contiene los nombres de la persona y STATUS corresponde si ha estado presente (PRE), ausente (aus) o licenciado (LO/LE), fallecido (F), en la Junta de Portavoces (JP). NUNCA introduzca comentarios más allá del formato de salida deseado."</span>,</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">examples =</span> eje)</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Realiza la consulta</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>  out <span class="ot">&lt;-</span> <span class="fu">query</span>(q, </span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>               <span class="at">model =</span> modelo, </span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>               <span class="at">screen =</span> F, </span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>               <span class="at">output =</span> <span class="st">"data.frame"</span>,</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>               <span class="at">verbose =</span> F,</span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>               <span class="at">model_params =</span> <span class="fu">list</span>(</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>                 <span class="at">seed=</span><span class="dv">123</span>,</span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>                 <span class="at">temperature=</span><span class="dv">0</span>))</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convierte la salida en un data.frame</span></span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>  la <span class="ot">&lt;-</span> <span class="fu">paste</span>(out<span class="sc">$</span>response, <span class="at">collapse=</span><span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>  la <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(la, <span class="at">delim=</span><span class="st">";"</span>, </span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>                   <span class="at">col_names =</span> F,</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>                   <span class="at">show_col_types=</span>F)</span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Añade el id del documento</span></span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>  la<span class="sc">$</span>doc <span class="ot">&lt;-</span> tx<span class="sc">$</span>doc_id[i]</span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Acumula los resultados</span></span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> <span class="fu">rbind</span>(d, la)</span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Muestra los resultados</span></span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(d, </span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a>          <span class="at">sortable =</span> T, </span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a>          <span class="at">resizable =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item" id="htmlwidget-6aab4dd9d0bb7ac71f3f" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6aab4dd9d0bb7ac71f3f">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"X1":["PPK","PPK","FA","GPFP","FA","GPFP","GPFP","GPFP","GPFP","GPEP","GPFP","GPFP","GPFP","GPFP","APP","GPFP","GPFP","GPFP","GPFP","GPFP","CPA","FA","FA","AP","GPFP","GPFP","APP","FA","PPK","FA","PPK","PPK","GPFP","FA","GPFP","GPFP","GPFP","FA","GPFP","GPFP","FA","GPFP","GPFP","GPEP","GPFP","GPFP","CPA","PPK","GPFP","AP","GPFP","GPFP","GPFP","GPFP","PPK","GPFP","GPFP","GPFP","PPK","PPK","FA","GPFP","GPFP","FA","GPFP","GPFP","GPFP","GPFP","GPFP","FA","GPFP","GPFP","GPFP","PPK","GPEP","GPFP","GPFP","GPFP","PPK","GPFP","FA","PPK","GPFP","GPFP","GPFP","APP","APP","FA","GPFP","CPA","FA","FA","GPFP","PPK","CPA","GPFP","PPK","APP",null,"GPFP","GPEP",null,"AP","FA","APP","PPK","PPK","AP","GPFP","PPK","GPFP","GPFP","FA","PPK","GPFP","GPFP","GPFP","GPFP","GPFP","GPFP","GPFP","GPFP","FA","GPFP","FA","PPK","GPFP","GPFP","GPFP","GPFP","PPK","PPK","FA","GPFP","FA","GPFP","GPFP","GPFP","GPFP","GPFP","GPFP","GPFP","GPFP","GPFP","APP","GPFP","GPFP","GPFP","GPFP","GPFP","CPA","FA","FA","FA","GPFP","GPFP","APP","FA","PPK","FA","PPK","PPK","GPFP","FA","GPFP","GPFP","GPFP","FA","GPFP","GPFP","FA","GPFP","GPFP","GPFP","GPFP","GPFP","CPA","PPK","GPFP","AP","GPFP","GPFP","GPFP","GPFP","PPK","GPFP","GPFP","GPFP","PPK","PPK","FA","GPFP","GPFP","FA","GPEP","GPFP","GPFP","GPFP","GPFP","FA","GPFP","GPFP","GPFP","PPK","GPFP","GPFP","GPFP","GPFP","PPK","GPFP","FA","PPK","GPFP","GPFP","GPFP","APP","APP","FA","GPFP","CPA","FA","FA","GPFP","PPK","CPA","GPFP","PPK","APP",null,"GPFP","GPFP",null,"AP","FA","APP","CPA","PPK","AP","GPFP","PPK","GPFP","GPFP","FA","PPK","GPFP","GPFP","GPFP","GPFP","GPFP","GPFP","GPFP","GPFP","FA","GPFP","FA","PPK","GPFP","GPFP","GPFP","GPFP"],"X2":["ACUÑA NUÑEZ, RICHARD","FLORES VÍLCHEZ, CLEMENTE","QUINTANILLA CHACÓN, ALBERTO","AGUILAR MONTENEGRO, WILMER","FORONDA FARRO, MARÍA ELENA","RAMÍREZ GAMARRA, OSÍAS","ALBRECHT RODRÍGUEZ, VÍCTOR","FUJIMORI HIGUCHX, KENJI GERARDO","RAMÍREZ TANDAZO, BIENVENIDO","ALCALÁ MATEO, PERCY","GALARRETA VELARDE, LUIS","REÁTEGUI FLORES, ROLANDO","ALCORTA SUERO, LOURDES","GALVÁN VENTO, CLAYTON","RÍOS OCSA, BENICIO","ANANCULI GÓMEZ, BETTY","AP GARCÍA BELAUNDE, VÍCTOR ANDRÉS","ROBLES URIBE, LIZBETH","ANDRADE SALGUERO DE A., GLADYS","GARCÍA JIMÉNEZ, MARITZA","RODRÍGUEZ ZAVALETA, ELÍAS","APAZA ORDÓÑEZ, JUSTINIANO","GLAVE REMY, MARISA","ROMÁN VALDIVIA, MIGUEL","ARAMAYO GAONA, ALEJANDRA","GONZALES ARDILES, JUAN CARLOS","ROSAS HUARANGA, JULIO","ARANA ZEGARRA, MARCO","GUÍA PIANTO, MOISÉS","ROZAS BELTRÁN, WILBERT","ARÁOZ FERNÁNDEZ, MERCEDES","HERESI CHICOMA, SALVADOR","SAAVEDRA VELA, ESTHER","ARCE CÁCERES, RICHARD","HERRERA ARÉVALO, MARITA","SALAVERRY VILLA, DANIEL","ARIMBORGO GUERRA, TAMAR","HUILCA FLORES, INDIRA","SALAZAR DE LA TORRE, MILAGROS","ÁVILA ROJAS, LUCIO","LAP A INGA, ZACARÍAS","SALAZAR MIRANDA, OCTAVIO","BARTRA BARRIGA, ROSA MARÍA","LAZO JULCA, ISRAEL","SALGADO RUBIANES, LUZ","BECERRIL RODRÍGUEZ, HÉCTOR","LEÓN ROMERO, LUCIANA","SÁNCHEZ ALVA, JANET","BETETA RUBÍN, KARINA","LESCANO ANCIETA, YONHY","SARMIENTO BETANCOURT, FREDDY","BOCANGEL WEYDERT, GUILLERMO","LETONA PEREYRA, ÚRSULA","SCHAEFER CUCULIZA, KARLA","BRUCE MONTES DE OCA, CARLOS","LIZANA SANTOS, MÁRTIRES","SEGURA IZQUIERDO, CÉSAR","BUSTOS ESPINOZA, ESTELITA","LOMBARDI ELÍAS, GUIDO","SHEPUT MOORE, JUAN","CANZIO ÁLVAREZ, MARIO","LOPEZ VILELA, LUIS","TAKAYAMA JIMÉNEZ, MILAGROS","CASTRO BRAVO, JORGE","MAMANI COLQUEHUANCA, MDISÉS","TAPIA BERNAL, SEGUNDO","CASTRO GRÁNDEZ, MIGUEL","MANTILLA MEDINA, MARIO","TICLLA RAFAEL, CARLOS","CEVALLOS FLORES, HERNANDO","MARTORELL SOBERO, GUILLERMO","TORRES MORALES, MIGUEL","CHACÓN DE VETTORI, CECILIA","MELÉNDEZ CELIS, JORGE","TRUJILLO ZEGARRA, GILMER","CHIHUÁN RAMOS, LEYLA","MELGAR VALDEZ, ELARD","TUBINO ARIAS SCHREIBER, CARLOS","CHOQUEHUANCA DE V., ANA MARÍA","MELGAREJO PÁUCAR, MARÍA","TUCTO CASTILLO, ROGELIO","COSTA SANTOLALLA, GINO","MIYASHIRO ARASHIRO, MARCO","USHÑAHUA HUASANGA, GLIDER","CUADROS CANDIA, NELLY","MONTENEGRO FIGUEROA, GLORIA","VÁSQUEZ SÁNCHEZ, CÉSAR","CURRO LÓPEZ, EDILBERTO","MONTEROLA ABREGÚ, WUILIAN","VELÁSQUEZ QUESQUÉN, JAVIER","DAMMERT EGO AGUIRRE, MANUEL","MORALES RAMÍREZ, EDYSON","VENTURA ÁNGEL, ROY","DÁVILA VIZCARRA, SERGIO","MULDER BEDOYA, MAURICIO","VERGARA PINTO, EDWIN","DE BELAUNDE DE CÁRDENAS, ALBERTO","NARVÁEZ SOTO, ELOY","VIEIRA, ROBERTO","DEL ÁGUILA CÁRDENAS, JUAN CARLOS","NOCEDA CHIANG, PALOMA","VILCATOMA DE LA CRUZ, YENI","DEL ÁGUILA HERRERA, EDMUNDO","OCHOA PEZO, EDGAR","VILLANUEVA ARÉVALO, CÉSAR","DEL CASTILLO GÁLVEZ, JORGE","OLAECHIA ÁLVAREZ CALDERÓN, PEDRO","VILLANUEVA MERCADO, ARMANDO","DIPAS HUAMÁN, JOAQUÍN","OLIVA CORRALES, ALBERTO","VILLAVICENCIO CÁRDENAS, FRANCISCO","DOMINGUEZ HERRERA, CARLOS","PACORT MAMANI, ORACIO","VIOLETA LÓPEZ, GILBERT","APP DONAYRE GOTZCH, EDWIN","PALMA MENDOZA, JOSÉ","YIKA GARCÍA, LUIS","DONAYRE PASQUEL, PATRICIA","PALOMINO ORTIZ, DALMIRO","YUYES MEZA, JUAN CARLO","ECHEVARRÍA HUAMÁN, SONIA","PARIONA GALINDO, FEDERICO","ZEBALLOS PATRÓN, HORACIO","ELÍAS ÁVALOS, MIGUEL ÁNGEL","PARIONA TARQUI, TANIA","ZEBALLOS SALINAS, VICENTE","APP ESPINOZA CRUZ, MARISOL","PETROZZI FRANCO, FRANCISCO","FIGUEROA MINAYA, MODESTO","PONCE VILLARREAL DE V., YESENIA","ACUÑA NÚÑEZ, RICHARD","FLORES VÍLCHEZ, CLEMENTE","QUINTANILLA CHACÓN, ALBERTO","AGUILAR MONTENEGRO, WILMER","FORONDA FARRO, MARÍA ELENA","RAMÍREZ GAMARRA, OSÍAS","ALBRECHT RODRÍGUEZ, VÍCTOR","FUJIMORI HIGUCHI, KENJI GERARDO","RAMÍREZ TANDAZO, BIENVENIDO","ALCALÁ MATEO, PERCY","GALARRETA VELARDE, LUIS","REÁTEGUI FLORES, ROLANDO","ALCORTA SUERO, LOURDES","GALVÁN VENTO, CLAYTON","RÍOS OCSA, BENICIO","ANANCULI GÓMEZ, BETTY","AP GARCÍA BELAUNDE, VÍCTOR ANDRÉS","ROBLES URIBE, LEIZBETH","ANDRADE SALGUERO DE A., GLADYS","GARCÍA JIMÉNEZ, MARITZA","RODRÍGUEZ ZAVALETA, ELÍAS","APAZA ORDÓÑEZ, JUSTINIANO","GLAVE REMY, MARISA","AP ROMÁN VALDIVIA, MIGUEL","ARAMAYO GAONA, ALEJANDRA","GONZALES ARDILES, JUAN CARLOS","ROSAS HUARANGA, JULIO","ARANA ZEGARRA, MARCO","GUÍA PIANTO, MOISÉS","ROZAS BELTRÁN, WILBERT","ARÁOZ FERNÁNDEZ, MERCEDES","HERESI CHICOMA, SALVADOR","SAAVEDRA VELA, ESTHER","ARCE CÁCERES, RICHARD","HERRERA ARÉVALO, MARITA","SALAVERRY VILLA, DANIEL","ARIMBORGO GUERRA, TAMAR","HUILCA FLORES, INDIRA","SALAZAR DE LA TORRE, MILAGROS","ÁVILA ROJAS, LUCIO","LAP A INGA, ZACARÍAS","SALAZAR MIRANDA, OCTAVIO","BARTRA BARRIGA, ROSA MARÍA","LAZO JULCA, ISRAEL","SALGADO RUBIANES, LUZ","BECERRIL RODRÍGUEZ, HÉCTOR","LEÓN ROMERO, LUCIANA","SÁNCHEZ ALVA, JANET","BETETA RUBÍN, KARINA","LESCANO ANCIETA, YONHY","SARMIENTO BETANCOURT, FREDDY","BOCANGEL WEYDERT, GUILLERMO","LETONA PEREYRA, ÚRSULA","SCHAEFER CUCULIZA, KARLA","BRUCE MONTES DE OCA, CARLOS","LIZANA SANTOS, MÁRTIRES","SEGURA IZQUIERDO, CÉSAR","BUSTOS ESPINOZA, ESTELITA","LOMBARDI ELÍAS, GUIDO","SHEPUT MOORE, JUAN","CANZIO ÁLVAREZ, MARIO","LOPEZ VILELA, LUIS","TAKAYAMA JIMÉNEZ, MILAGROS","CASTRO BRAVO, JORGE","MAMANI COLQUEHUANCA, MOISÉS","TAPIA BERNAL, SEGUNDO","CASTRO GRÁNDEZ, MIGUEL","MANTILLA MEDINA, MARIO","TICLLA RAFAEL, CARLOS","CEVALLOS FLORES, HERNANDO","MARTORELL SOBERO, GUILLERMO","TORRES MORALES, MIGUEL","CHACÓN DE VETTORI, CECILIA","MELÉNDEZ CELIS, JORGE","TRUJILLO ZEGARRA, GILMER","CHIHUÁN RAMOS, LEYLA","MELGAR VALDEZ, ELARD","TUBINO ARTAS SCHREIBER, CARLOS","CHOQUEHUANCA DE V., ANA MARÍA","MELGAREJO PÁUCAR, MARÍA","TUCTO CASTILLO, ROGELIO","COSTA SANTOLALLA, GINO","MIYASHIRO ARASHIRO, MARCO","USHÑAHUA HUASANGA, GLIDER","CUADROS CANDIA, NELLY","MONTENEGRO FIGUEROA, GLORIA","VÁSQUEZ SÁNCHEZ, CÉSAR","CURRO LÓPEZ, EDILBERTO","MONTEROLA ABREGÚ, WUILIAN","VELÁSQUEZ QUESQUÉN, JAVIER","DAMMERT EGO AGUIRRE, MANUEL","MORALES RAMÍREZ, EDYSON","VENTURA ÁNGEL, ROY","DÁVILA VIZCARRA, SERGIO","MULDER BEDOYA, MAURICIO","VERGARA PINTO, EDWIN","DE BELAUNDE DE CÁRDENAS, ALBERTO","NARVÁEZ SOTO, ELOY","VIEIRA, ROBERTO","DEL ÁGUILA CÁRDENAS, JUAN CARLOS","NOCEDA CHIANG, PALOMA","VILCATOMA DE LA CRUZ, YENI","DEL ÁGUILA HERRERA, EDMUNDO","OCHOA PEZO, ÉDGAR","VILLANUEVA ARÉVALO, CÉSAR","DEL CASTILLO GÁLVEZ, JORGE","OLAECHEA ÁLVAREZ CALDERÓN, PEDRO","VILLANUEVA MERCADO, ARMANDO","DIPAS HUAMÁN, JOAQUÍN","OLIVA CORRALES, ALBERTO","VILLAVICENCIO CÁRDENAS, FRANCISCO","DOMÍNGUEZ HERRERA, CARLOS","PACORI MAMANI, ORACIO","VIOLETA LÓPEZ, GILBERT","APP DONAYRE GOTZCH, EDWIN","PALMA MENDOZA, JOSÉ","YIKA GARCÍA, LUIS","DONAYRE PASQUEL, PATRICIA","PALOMINO ORTIZ, DALMIRO","YUYES MEZA, JUAN CARLO","ECHEVARRÍA HUAMÁN, SONIA","PARIONA GALINDO, FEDERICO","ZEBALLOS PATRÓN, HORACIO","ELÍAS ÁVALOS, MIGUEL ÁNGEL","PARIONA TARQUÍ, TANIA","ZEBALLOS SALINAS, VICENTE","APP ESPINOZA CRUZ, MARISOL","PETROZZI FRANCO, FRANCISCO","FIGUEROA MINAYA, MODESTO","PONCE VILLARREAL DE V., YESENIA"],"X3":["AUS","PRE","PRE ","PRE","aus","LO ","PRE","PRE","PRE ","PRE","PRE","PRE ","LE","aus","LO ","PRE","PRE","PRE ","PRE","PRE","PRE ","aus","PRE","PRE ","PRE","PRE","aus ","aus","PRE","PRE ","PRE","LO","PRE ","PRE","aus","PRE ","LO","aus","LO ","PRE","PRE","aus ","aus","PRE","PRE ","PRE","PRE","PRE ","PRE","PRE","LE ","PRE","PRE","aus ","PRE","PRE","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","LO","PRE","PRE ","aus","aus","PRE ","aus","PRE","PRE ","LO","aus","LO ","PRE","aus","aus ","PRE","PRE","LE ","LO","PRE","LO ","PRE","aus","aus ","PRE","PRE","PRE ","AUS","PRE","PRE ","PRE","PRE","aus ","PRE","PRE","PRE ","PRE","PRE","LE ","aus","LO","PRE ","PRE","LE","PRE ","PRE","PRE","PRE ","PRE","LE","PRE ","aus","PRE","PRE ","PRE","aus","PRE ","aus","PRE","aus ","LO","PRE ","PRE","aus ","PRE","PRE","PRE ","PRE","aus","LO ","PRE","PRE","PRE ","PRE","PRE","PRE ","LE","PRE","PRE ","PRE","aus","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","PRE","LO","PRE ","PRE","aus","aus ","LO","PRE","LO ","PRE","PRE","PRE ","PRE","PRE","aus ","aus","PRE","PRE ","PRE","PRE","LE ","PRE","LE","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","LO","PRE","PRE ","aus","PRE","PRE ","PRE","PRE","PRE ","LO","PRE","LO ","PRE","PRE","PRE ","PRE","PRE","LE ","LO","PRE","LO ","PRE","aus","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","PRE","PRE","LE ","PRE","PRE","LE ","PRE","LO","LE ","PRE","LE","PRE ","PRE","PRE","PRE ","PRE","LE","PRE ","PRE","PRE","PRE ","PRE","PRE","PRE ","aus","PRE","PRE ","LO","PRE ","PRE","aus "],"doc":["ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_1.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt","ASIS__0-AS-VOT-14-06-17-OFICIAL_10.txt"]},"columns":[{"id":"X1","name":"X1","type":"character"},{"id":"X2","name":"X2","type":"character"},{"id":"X3","name":"X3","type":"character"},{"id":"doc","name":"doc","type":"character"}],"resizable":true,"dataKey":"2d4126fa9dbc25fadcc51dd372ab2259"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Como vemos, el modelo ha sido capaz de identificar 260 observaciones para tres variables, 130 para cada uno de los dos textos. Esa información ya está lista para ser analizada. Le he añadido también el nombre del archivo original, que me permite identificar a qué sesión, fecha y documento <em>.pdf</em> pertenece cada asistencia.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Copyright 2025, Rodrigo Rodrigues-Silveira</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>