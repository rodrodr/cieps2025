[
  {
    "objectID": "basico.html",
    "href": "basico.html",
    "title": "Fundamentosde visualizaci√≥n de datos",
    "section": "",
    "text": "El documental de PBS ‚ÄúEl arte de la visualizaci√≥n de datos‚Äù resulta muy informativo sobre la importancia de la visualizaci√≥n de datos:\n\n\nTodos los d√≠as vemos c√≥mo se manipula la informaci√≥n para intentar convencer a la gente. Los gr√°ficos no se quedan fuera de esa tendencia. El corto video abajo nos muestra algunas de las estrategias m√°s comunes para descubrir intentos de mentir con gr√°ficos:"
  },
  {
    "objectID": "basico.html#por-qu√©-visualizar-datos",
    "href": "basico.html#por-qu√©-visualizar-datos",
    "title": "Fundamentosde visualizaci√≥n de datos",
    "section": "",
    "text": "El documental de PBS ‚ÄúEl arte de la visualizaci√≥n de datos‚Äù resulta muy informativo sobre la importancia de la visualizaci√≥n de datos:\n\n\nTodos los d√≠as vemos c√≥mo se manipula la informaci√≥n para intentar convencer a la gente. Los gr√°ficos no se quedan fuera de esa tendencia. El corto video abajo nos muestra algunas de las estrategias m√°s comunes para descubrir intentos de mentir con gr√°ficos:"
  },
  {
    "objectID": "basico.html#qu√©-es-la-visualizaci√≥n-de-datos",
    "href": "basico.html#qu√©-es-la-visualizaci√≥n-de-datos",
    "title": "Fundamentosde visualizaci√≥n de datos",
    "section": "¬øQu√© es la visualizaci√≥n de datos?",
    "text": "¬øQu√© es la visualizaci√≥n de datos?\nLa visualizaci√≥n de datos es una forma de comunicar informaci√≥n de manera efectiva utilizando elementos visuales como gr√°ficos, mapas y tablas. Se trata de una parte esencial del trabajo cient√≠fico, puesto que representa tanto una herramienta de an√°lisis como un instrumento de comunicaci√≥n de los resultados.\nDentro de los √°mbitos cient√≠ficos, los gr√°ficos se consideran como parte del proceso de exploraci√≥n de datos. Resultan muy √∫tiles para descubrir patrones, validar la calidad de los datos y entender procesos que ser√≠an m√°s dif√≠ciles de entender si se presentaran en forma de tablas o texto.\nM√°s recientemente, su uso se ha extendido a la comunicaci√≥n de resultados y a la divulgaci√≥n cient√≠fica, ya que permiten presentar de manera clara y efectiva los hallazgos de un an√°lisis de datos tanto a expertos como a un p√∫blico no especializado."
  },
  {
    "objectID": "basico.html#por-qu√©-es-importante-la-visualizaci√≥n-de-datos",
    "href": "basico.html#por-qu√©-es-importante-la-visualizaci√≥n-de-datos",
    "title": "Fundamentosde visualizaci√≥n de datos",
    "section": "¬øPor qu√© es importante la visualizaci√≥n de datos?",
    "text": "¬øPor qu√© es importante la visualizaci√≥n de datos?\nTomemos como ejemplo, el gr√°fico ‚ÄúWarming Stripes‚Äù, creado por Edward Hakwings en 2018 para representar los cambios en las temperaturas medias anuales entre 1850 y 2017.\n \nEste gr√°fico se ha convertido en un s√≠mbolo de la lucha contra el cambio clim√°tico y ha sido utilizado por organizaciones como la ONU y la NASA para concienciar sobre el problema. ¬øPor qu√©? Examinemos algunos elementos que hacen este gr√°fico tan efectivo:\n\nSimplicidad: El gr√°fico es simple y f√°cil de entender. No hay elementos de distracci√≥n, comentarios o decoraciones indeseadas, ni siquiera hace falta una escala informando qu√© se mide. Por solo mirarlo, ya nos damos cuenta de que se trata de una secuencia lineal de temperatura. Aqu√≠, la regla de ‚Äúmenos es m√°s‚Äù se afirma con mucha potencia.\nEl uso del color: El uso del color es muy efectivo. El color azul representa temperaturas m√°s bajas, mientras que el rojo representa temperaturas m√°s altas. La elecci√≥n de estos colores es muy acertada, ya que el azul y el rojo son colores que se asocian com√∫nmente con el fr√≠o y el calor. Por lo tanto, no hace falta una leyenda para explicar qu√© representa cada barra.\nEl uso de la escala: Por tratarse de cambios (y no de valores absolutos), la variaci√≥n entre las observaciones aumenta, lo que facilita la visualizaci√≥n de un patr√≥n claro e inequ√≠voco de calentamiento global.\n\nEn resumen, aunque siempre haya habido grupos contrarios a la tesis del calentamiento global, a partir de la creaci√≥n de esta visualizaci√≥n, cualquiera que quiera argumentar en contra tendr√° mucha mayor dificultad en hacerlo y necesitar√° argumentos muy convincentes para disuadir a la gente.\nTeniendo en mente el ejemplo anterior, podemos decir que la visualizaci√≥n de datos es importante por varias razones:\n\nFacilita la comprensi√≥n de los datos: Los gr√°ficos y las visualizaciones permiten comprender mejor los datos y descubrir patrones y relaciones que ser√≠an dif√≠ciles de detectar de otra manera. Es cada vez m√°s com√∫n trabajar con una cantidad enorme de datos que ser√≠an inabarcables sin estrategias heur√≠sticas que posibilitaran su s√≠ntesis de manera efectiva. Los gr√°ficos son una de las formas de abstracci√≥n m√°s poderosas. Vemos que se trata de un gr√°fico muy f√°cil de leer.\nFacilita la comunicaci√≥n de resultados: Los gr√°ficos y las visualizaciones permiten comunicar de manera clara los resultados de un an√°lisis de datos a expertos y a un p√∫blico no especializado. No hace falta ser un experto en climatolog√≠a para entender que las barras rojas son cada vez m√°s largas y que eso significa que las temperaturas est√°n aumentando. Personas con muy distintos niveles educativos pueden entender el mensaje.\nFacilita la toma de decisiones: Los gr√°ficos y las visualizaciones permiten tomar decisiones informadas basadas en datos y evidencia. El gr√°fico de las barras de temperatura deja claro que tenemos un problema y que hace falta tomar cartas en el asunto, pues el crecimiento parece ser exponencial.\nFacilita la identificaci√≥n de problemas: Los gr√°ficos y las visualizaciones permiten identificar problemas y errores en los datos, como valores at√≠picos y datos faltantes.\nFacilita la identificaci√≥n de oportunidades: Los gr√°ficos y las visualizaciones permiten identificar oportunidades y tendencias que pueden ser aprovechadas para mejorar los procesos y los resultados.\n\n\nPor lo tanto, no hace falta tener un super gr√°fico lleno de parafernalia y ‚Äúcachibaches‚Äù para comunicar efectivamente un mensaje. La simplicidad y la claridad son las claves para una visualizaci√≥n efectiva."
  },
  {
    "objectID": "basico.html#reglas-b√°sicas",
    "href": "basico.html#reglas-b√°sicas",
    "title": "Fundamentosde visualizaci√≥n de datos",
    "section": "Reglas b√°sicas",
    "text": "Reglas b√°sicas\nExiste un conjunto de reglas b√°sicas que nos ayudan a la hora de crear visualizaciones de alta calidad. Si uno se adhiere a estos principios b√°sicos, es mucho m√°s probable que sea capaz de comunicar de manera efectiva la informaci√≥n que se desea transmitir.\n\nTenga una historia que contar o buscar\nYa s√© que parece discurso de vendedor de autos usados o de conferenciante de las charlas TED, pero es cierto. ¬øPor qu√© el gr√°fico es importante? ¬øQu√© pretende descubrir o revelar? No es necesario que sea una historia compleja o sumamente elaborada, sino que sea clara, f√°cil de entender y, sobre todo, que importe a la gente. Y para que importe a la gente, debes saber a qu√© gente te diriges, aunque, a veces, uno termina sorprendi√©ndose de la diversidad de personas que se interesan por un tema.\nEn 2018, terminadas las elecciones presidenciales de Brasil en las que gan√≥ Jair Bolsonaro, empez√≥ una discusi√≥n en los medios y las redes sociales sobre cu√°l habr√≠a sido el apoyo efectivo del tercer candidato en la disputa, Ciro Gomes, al candidato del Partido de los Trabajadores (PT), Fernando Haddad, en la segunda vuelta de los comicios. Muchos apoyadores del PT dec√≠an que Ciro Gomes hab√≠a sido el responsable de la derrota de Haddad, mientras que otros dec√≠an que no hab√≠a sido as√≠. Entonces, he decidido aplicar una t√©cnica de inferencia ecol√≥gica, que intenta descubrir patrones a partir de datos agregados, para ver si pod√≠a descubrir algo.\nPara casa mesa, he calculado la cantidad de votos que se habr√≠an transferidos de unos a otros. Con esas informaciones, pod√≠a estimar cu√°l proporci√≥n de votos de cada candidato se transfer√≠a a otros, los blancos y nulos y las abstenciones. Con esos datos, he creado el siguiente gr√°fico cordas que revela la transferencia estimada de votos entre candidatos:\n\nEn la izquierda del gr√°fico vemos la red completa de transferencias, con los candidatos derrotados en la primera vuelta en la izquierda y las opciones de voto en la segunda vuelta a la derecha. En la derecha de la imagen, vemos la transferencia de cada candidato por separado. He decidido separar cada uno de ellos para facilitar la visualizaci√≥n de los patrones.\nVemos que las secciones electorales que votaron en mayor medida a Ciro Gomes han sido las √∫nicas que inequ√≠vocamente han transferido votos a Fernando Haddad. Los patrones de los dem√°s candidatos favorecen a Bolsonaro o son m√°s complejos, sin una preferencia clara.\nAunque se tratara de una publicaci√≥n privada en facebook, destinada solamente a mis amigos polit√≥logos, en poco tiempo el gr√°fico se ha vuelto viral (infelizmente, sin la explicaci√≥n metodol√≥gica que lo acompa√±aba). Muchos de los apoyadores de Ciro lo compart√≠an y comentaban para contrarrestar las acusaciones de los del PT de que los ‚Äúciristas‚Äù hab√≠an votado nulo o apoyado a Bolsonaro. Este impacto inesperado solo fue posible porque el gr√°fico ten√≠a una historia que contar y que importaba a la gente.\n\n\nQue tus datos sean de calidad\nEn la comunidad de an√°lisis de datos en ingl√©s, se suele emplear una expresi√≥n que me parece excelente para entender los problemas y virtudes de cualquier investigaci√≥n o gr√°fico: ‚Äúgarbage in, garbage out‚Äù (algo en espa√±ol como ‚Äúaunque la mona se vista de seda, mona se queda‚Äù o quod natura non dat, Salmantica non praestat). Es decir, si no eres Mois√©s, no puedes sacar agua de piedra. Creo que las referencias populares nos quieren decir es: un an√°lisis basado en datos de mala calidad no puede aportar nada de interesante. No resulta casual que la mayor parte del trabajo de investigaci√≥n se dedique a la recolecci√≥n y limpieza de datos y en las revisiones por pares se hace hincapi√© en la consistencia de los aspectos metodol√≥gicos. Tienen que ser interesantes y confiables para ser v√°lidos.\n\n\n¬°Esto son gr√°ficos, no pinturas Rococ√≥, se√±ores!\nA m√≠, personalmente, me gusta el Rococ√≥. Esos palacios decorados, esas pinturas de Fragonard o Watteau, todo muy bonito, un lujazo manifiesto en colores y formas. No obstante, un gr√°fico (al menos en un principio) no deber√≠a ser algo que recargue los sentidos. Obviamente, hay controversias y algunos dise√±adores defienden la idea de que un gr√°fico es una forma de expresi√≥n visual m√°s y, por lo tanto, puede asumir cualquier estilo est√©tico que se desee.\nNo obstante, si queremos comunicar de forma r√°pida y efectiva a un p√∫blico que no tiene tiempo ni busca una contemplaci√≥n est√©tica en nuestros gr√°ficos, lo mejor es mantenerlos simples y claros. No es necesario que sean aburridos, pero s√≠ que sean efectivos.\n¬øQu√© quiero decir simples y claros? Primero, que no se debe abusar de los colores, las formas y los elementos decorativos. Un gr√°fico debe ser f√°cil de leer y de entender. Si el lector tiene que esforzarse para entender lo que se quiere comunicar, es probable que no lo haga. Llenar los gr√°ficos de elementos visuales vac√≠os de significado (para evitar el horror vacui) resultar√≠a contraproducente. Eso no quiere decir que no se puedan emplear elementos est√©ticos para facilitar el entendimiento y causar una impresi√≥n placentera en los lectores. Como dijo Edward Tufte en el documental de la PBS, ‚Äúel contenido siempre viene primero, la belleza naturalmente le seguir√°‚Äù.\n\n\nHuye de las plantillas de Excel, SPSS, Stata o R\n¬°Pero, tampoco nos pasemos de dejados! Si examinamos una muestra de publicaciones cient√≠ficas en las ciencias sociales resulta impresionante ver el poco cuidado est√©tico que se tiene con los gr√°ficos. Aunque no es necesario que sean obras de arte, s√≠ es importante que sean f√°ciles de leer y que aprovechen para informar lo mejor posible. No es necesario que sean muy elaborados, pero s√≠ que sean claros, efectivos y atractivos.\nEn la mayor√≠a de los casos, los autores simplemente copian y pegan los resultados de Excel, SPSS o Stata (incluso R) en sus documentos sin preocuparse por c√≥mo el perfeccionamento de elementos visuales como el color, el tipo de fuente o la disposici√≥n de los s√≠mbolos puede mejorar la comprensi√≥n de los datos. Un gr√°fico atractivo, adem√°s de limpio y efectivo, resulta agradable y llama la atenci√≥n por el placer est√©tico que produce en el observador. Tambi√©n es una forma de demostrar cierto estilo o sofisticaci√≥n en el trabajo de un autor. Es como su ‚Äúmarca‚Äù personal. Es la impresi√≥n que suelo tener cuando veo un gr√°fico de dise√±adoras como Federica Fragapane, Giorgia Lupi o Nadieh Bremer.\nAtraer la atenci√≥n del lector no es cosa menor. Tenemos a nuestra disposici√≥n miles de art√≠culos y libros para leer, y si no logramos captar la atenci√≥n del lector, es probable que nuestro trabajo no sea le√≠do. Gr√°ficos bien acabados revelan atenci√≥n al detalle y preocupaci√≥n por la calidad del trabajo que se lleva a cabo. Utilizando una analog√≠a con la moda, ser√≠a como hacer una ‚Äúoperaci√≥n bikini‚Äù y luego ir a la playa en ch√°ndal de andar por casa.\nNo digo que te conviertas en un dise√±ador para hacer un gr√°fico atractivo, pero s√≠ es necesario tener en cuenta algunos principios b√°sicos de dise√±o y visualizaci√≥n de datos. Existe una infinitud de manuales de visualizaci√≥n de datos con cap√≠tulos espec√≠ficos sobre la elecci√≥n de colores, fuentes, tama√±os, formas, etc. Mi sugerencia es que consult√©is algunas de esas obras para aprender los principios b√°sicos, valer√° mucho la pena (Brewer 2005; Healy 2019; Brewer, Hatchard, and Harrower 2003; Yau 2011, 2013; Tufte 2001; Cleveland 1993; Munzner 2014; Few 2004). Ver√©is que a partir de cierto momento se empiezan a repetir los mismos consejos y recomendaciones. En ese instante, ya tendr√°s lo suficiente para aplicar en tus propios gr√°ficos.\n\n\n\n\n\n\n\n\n\nEn el gr√°fico anterior, he comparado tres gr√°ficos realizados con plantillas de Excel, Stata y ggplot2 con uno hecho por m√≠. Aunque los tres primeros gr√°ficos son correctos y cumplen con su funci√≥n, pueden mejorar mucho.\nA√±adimos dos variables m√°s: urbanizaci√≥n para el tama√±o y si se trata de un pa√≠s de mayor√≠a musulmana. Adem√°s, incorporamos un t√≠tulo en negrita, un subt√≠tulo y una fuente. Tambi√©n hemos cambiado los colores y la posici√≥n de la leyenda y lo hemos convertido en una versi√≥n interactiva con un ‚Äútooltip‚Äù con los datos representados de forma detallada."
  },
  {
    "objectID": "gramatica.html#gr√°ficos-por-capas",
    "href": "gramatica.html#gr√°ficos-por-capas",
    "title": "Gram√°ticade los gr√°ficos",
    "section": "Gr√°ficos por capas",
    "text": "Gr√°ficos por capas\nComo se puede ver en el v√≠deo, la mejor manera de pensar en la gram√°tica de los gr√°ficos es a partir de una estructura de capas superpuestas. La idea es muy sencilla: cada gr√°fico se construye a partir de una serie de capas que se van sumando una a una, de modo que uno puede ir a√±adiendo mayor sofisticaci√≥n y complejidad en la medida que ya tiene resueltos los temas anteriores.\nCada capa de un gr√°fico es un componente independiente que se puede modificar y combinar con otras capas para crear un gr√°fico m√°s complejo. La figura abajo nos brinda una representaci√≥n visual de la gram√°tica de los gr√°ficos:\n\nEn la base se encuentra la capa de datos. Cualquier visualizaci√≥n depende fundamentalmente de la informaci√≥n que se desea comunicar. Esta capa condiciona todo lo que viene despu√©s: las geometr√≠as que podemos emplear, las estad√≠sticas, la capacidad de dividir en diferentes grupos, etc.\nImaginemos nuestra base de datos w con los datos de los pa√≠ses. Queremos crear un diagrama de dispersi√≥n para analizar la relaci√≥n entre la esperanza de vida (lifeex_total) y el nivel de democracia (dem_score14). imaginemos que queremos contrastar esas dos variables con el IDH (hdi) y el nivel del PIB per c√°pita (gdpcap3_08). Nuestro gr√°fico solo se importar√° con esas variables y ninguna m√°s, pues no las emplearemos.\n\n\nCode\n# Carga los datos\nlibrary(poliscidata)\n\n# Crea una base w a partir\n# de la original world\nw &lt;- world\n\n# Visualiza el nombre del pa√≠s,\n# la esperanza de vida y el nivel\n# de democracia\nreactable(w[, c(\"country\", \"lifeex_total\", \"dem_score14\",\"hdi\",\"gdpcap3_08\")])\n\n\n\n\n\n\n\nEsta ser√≠a nuestra capa de datos. Tenemos cinco variables, dos en formato texto (factor) y dos num√©ricas: el nombre del pa√≠s, la esperanza de vida, el nivel de democracia, el IDH y la desigualdad de g√©nero. Para crearla formalmente en R, debemos decir que la base de datos que vamos a emplear es la que se llama w en la funci√≥n ggplot del paquete ggplot2.\n\n\nCode\n# Carga el paquete\nlibrary(ggplot2)\n\n# Crea la capa de datos \ng &lt;- ggplot(w)\n\n\nEste procedimiento crea un nuevo objeto llamado g (g de gr√°fico, pero podr√≠a ser cualquier otro nombre) que contiene solamente la indicaci√≥n de que w es la capa de datos.\nLa siguiente capa es la de est√©tica. En esta capa se definen las variables que se van a visualizar y c√≥mo. Tambi√©n se refieren a ese nivel como el ‚Äúmapeo‚Äù de las variables. En nuestro caso, queremos visualizar la esperanza de vida en el eje x y el nivel de democracia en el eje y. Ya tenemos para un gr√°fico de dispersi√≥n (scatterplot).\nNo obstante, tambi√©n queremos que el tama√±o de cada punto sea proporcional al IDH, siendo que los pa√≠ses con mayor desarrollo humano tendr√°n puntos m√°s grandes y los de menos, m√°s peque√±os. Aprovechamos para definir que el color de los puntos corresponda al valor del nivel del PIB per c√°pita (Bajo, Mediano, Alto).\nPara crear la capa de est√©tica en R, ser√≠a tan sencillo como ‚Äúsumar‚Äù la definici√≥n de la est√©tica a la capa de datos:\n\n\nCode\n# A√±ade una capa de est√©tica\n# para la relaci√≥n entre la esperanza\n# de vida y el nivel de democracia\n# con el IDH establecido como tama√±o \n# y el PIB per c√°pita como color\ng &lt;- g + \n     aes(x=lifeex_total,\n         y=dem_score14,\n         size=hdi,\n         color=gdpcap3_08)\n\n# visualiza el gr√°fico\ng\n\n\n\n\n\n‚Äú¬°Pero no veo nada m√°s que el fondo y los ejes!‚Äù Claro que no. Est√°s en el backstage todav√≠a. Solo dijiste al R que quer√≠as visualizar la esperanza de vida en el eje x, el nivel de democracia en el eje y, el tama√±o de los puntos proporcional al IDH y el color de los puntos proporcional a la desigualdad de g√©nero. Pero no le dijiste c√≥mo quer√≠as visualizarlo. Para ello necesitas definir que tipo de representaci√≥n visual quieres: pueden ser puntos, l√≠neas, barras, florecitas, avioncitos‚Ä¶ ¬øC√≥mo el R va a adivinar lo que Ud.? Eso es lo que viene a continuaci√≥n.\nA√±adiremos una capa de geometr√≠a, representada por la funci√≥n geom_ seguida del tipo de geometr√≠a que queremos. En nuestro caso, queremos puntos, por lo que usaremos la funci√≥n geom_point.\n\n\nCode\n# A√±ade la capa de geometr√≠a\n# que ser√°n los puntos\ng &lt;- g + geom_point()\n\n# Visualiza el gr√°fico\ng\n\n\n\n\n\n\nAhora s√≠, ¬°habemus gr√°fico! Hemos sumado a geometr√≠a de puntos a las capas anteriores de datos y est√©tica. Pero, nos result√≥ un gr√°fico que da miedo (ya lidiaremos con eso m√°s tarde).\nMuchos parar√≠an aqu√≠, pero desperdiciar√≠amos la oportunidad de hacer un gr√°fico m√°s informativo. Todav√≠a podemos a√±adir m√°s capas y cambios a nuestra visualizaci√≥n para que sea m√°s bonita e eficaz.\nImaginemos que nos gustar√≠a separar los pa√≠ses seg√∫n regiones. Para ello, necesitamos una nueva capa: la capa de facetas. En esta capa, se definen las variables que se van a utilizar para separar los datos en diferentes paneles. En nuestro caso, queremos separar los pa√≠ses por regiones.\nPara ello, empleamos la funci√≥n facet_wrap y le decimos que queremos dividir los pa√≠ses por la variable regionun. La capa de facetas se ver√≠a as√≠:\n\n\nCode\n# A√±ade la capa de facetas para\n# dividir el gr√°fico por regiones\ng &lt;- g + facet_wrap(~regionun)\n\n# Visualiza el gr√°fico\ng\n\n\n\n\n\nComo hab√©is visto, he ido a√±adiendo capas al gr√°fico y √©l estaba de lo m√°s contento. Ahora quiero a√±adir alguna estad√≠stica chula que me permita visualizar mejor los resultados, como una elipse que circule los puntos de cada grupo de PIB per c√°pita. Lo hago por medio de una capa de estad√≠stica:\n\n\nCode\n# A√±ado la capa de estad√≠stica\ng &lt;- g + stat_ellipse()\n\n# visualizo el gr√°fico\ng\n\n\n\n\n\nYa tengo muchos decorados. Ahora toca cambiar un poco la representaci√≥n jugando con la capa de coordenadas.\n\n\nCode\n# Cambia las coordenadas\n# a polares\ng &lt;- g + coord_polar()\n\n# Visualiza el gr√°fico\ng\n\n\n\n\n\n¬øDemasiado liado para ti? Para mi tambi√©n. Mi experimento no ha sido muy exitoso. No hay problema, volvemos al tipo de coordenadas anterior:\n\n\nCode\n# Superpone las coordenadas \n# cartesianas a las anteriores\ng &lt;- g + coord_cartesian()\n\n# Visualiza el gr√°fico\ng\n\n\n\n\n\nEsto nos advierte tambi√©n que la estructura de capas no resulta obligatoria. Las √∫nicas capas que son estrictamente necesarias son la de datos, est√©tica y geometr√≠a. Las dem√°s son opcionales y pueden ser a√±adidas o quitadas seg√∫n la necesidad.\nAhora nos toca mejorar la apariencia del gr√°fico. Para ello, a√±adiemos una capa de tema. En esta capa, se definen los elementos que se van a utilizar para mejorar la apariencia del gr√°fico. Necesitamos quitar ese fondo feo, cambiar los colores, a√±adir un t√≠tulo, cambiar el nombre de los ejes, etc. Hagamoslo:\n\n\nCode\n# A√±adimos un tema pre programado\n# para quitar elementos indesejables\ng &lt;- g + theme_classic()\n\n# Cambiamos el color\ng &lt;- g + scale_color_manual(\n                values=c(\"red3\",\n                         \"orange\",\n                         \"blue\"))\n\n# A√±adimos un t√≠tulo y cambiamos\n# los nombres de los ejes\ng &lt;- g + labs(title=\"Relaci√≥n entre esperanza de vida y nivel de democracia\",\n              x=\"Esperanza de vida\",\n              y=\"Nivel de democracia\")\n\n# Cambiamos el t√≠tulo de las\n# leyendas\ng &lt;- g + guides(\n            color = guide_legend(title=\"PIB per c√°pita\"),\n            size = guide_legend(title=\"IDH\")\n            )\n\n# Aumentamos el tama√±o del t√≠tulo\ng &lt;- g + theme(plot.title = \n                 element_text(size=16, \n                              face=\"bold\")) \n\n# Visualizamos el gr√°fico\ng"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Ciencia de datos pol√≠ticos en R",
    "section": "",
    "text": "Esta p√°gina web forma parte del curso ‚ÄúCiencia de datos pol√≠ticos con R‚Äù. En ella, se recogen los materiales y ejemplos que se desarrollar√°n durante las sesiones."
  },
  {
    "objectID": "index.html#el-curso",
    "href": "index.html#el-curso",
    "title": "Ciencia de datos pol√≠ticos en R",
    "section": "",
    "text": "Esta p√°gina web forma parte del curso ‚ÄúCiencia de datos pol√≠ticos con R‚Äù. En ella, se recogen los materiales y ejemplos que se desarrollar√°n durante las sesiones."
  },
  {
    "objectID": "index.html#el-profesor",
    "href": "index.html#el-profesor",
    "title": "Ciencia de datos pol√≠ticos en R",
    "section": "El profesor",
    "text": "El profesor\nRodrigo Rodrigues-Silveira \nrodrodr@usal.es\nProfesor de ciencia pol√≠tica de la USAL. Director del proyecto ‚ÄúComportamiento legislativo y erosi√≥n democr√°tica en Am√©rica Latina‚Äù (PELA Comportamiento)."
  },
  {
    "objectID": "index.html#el-contenido",
    "href": "index.html#el-contenido",
    "title": "Ciencia de datos pol√≠ticos en R",
    "section": "El contenido",
    "text": "El contenido\nDurante el curso se abordar√°n los siguientes temas:\n\nIntroducci√≥n a la la ciencia de datos en R\nManipulaci√≥n y an√°lisis de datos sociales\nCreaci√≥n de gr√°ficos y narrativas visuales\nAn√°lisis de textos y modelos de IA generativa"
  },
  {
    "objectID": "index.html#sesiones",
    "href": "index.html#sesiones",
    "title": "Ciencia de datos pol√≠ticos en R",
    "section": "Sesiones",
    "text": "Sesiones\nLas sesiones tendr√°n una duraci√≥n de 5 horas y se llevar√°n a cabo en el CIEPS.\nD√çA 1 - 20/01/2025 de 8 a 13h\nD√çA 2 - 21/01/2025 de 8 a 13h\nD√çA 3 - 22/01/2025 de 8 a 13h\nD√çA 4 - 23/01/2025 de 8 a 13h"
  },
  {
    "objectID": "index.html#servicio-t√©cnico",
    "href": "index.html#servicio-t√©cnico",
    "title": "Ciencia de datos pol√≠ticos en R",
    "section": "ü§ñ Servicio t√©cnico ü§ñ",
    "text": "ü§ñ Servicio t√©cnico ü§ñ\nPara que pod√°is reproducir los ejemplos de an√°lisis presentados durante el curso deb√©is instalar en vuestros ordenadores el R y el RStudio Desktop.\nTambi√©n deb√©is ejecutar el siguiente c√≥digo en R que instala los paquetes necesarios:\n\n\nCode\n# Crea un vector con los paquetes a instalar\npc &lt;- c(\"ggplot2\",\"ggrepel\",\"ggdist\",\n        \"ggiraph\",\"giraphExtra\",\"ggridges\",\"dplyr\",\n        \"vdemdata\",\"sf\",\"cowplot\",\"poliscidata\",\n        \"treemap\",\"treemapify\",\"plotly\",\"networkD3\",\n        \"gapminder\",\"patchwork\",\"ggcorrplot\", \n        \"ggnetwork\",\"ggridges\",\"ggbeeswarm\",\"ggtext\",\n        \"netrankr\",\"igraph\",\"reactable\",\"RColorBrewer\",\n        \"hrbrthemes\",\"ggthemes\",\"tvthemes\")\n\n## ACTUALIZACI√ìN DE PAQUETES (PARA EL D√çA 6 DE JUNIO)\n\npc &lt;- c(\"plotly\",\"networkD3\",\n        \"gapminder\",\"patchwork\",\"ggcorrplot\", \n        \"ggnetwork\",\"ggridges\",\"ggbeeswarm\",\"ggtext\",\n        \"netrankr\",\"igraph\",\"reactable\",\"RColorBrewer\",\n        \"hrbrthemes\",\"ggthemes\",\"tvthemes\")\n\n# Instala los paquetes\ninstall.packages(pc)\n\n# Instala el paquete tenet que no est√° en CRAN\n# (si ya no lo hab√©is instalado en el curso \n# anterior de introducci√≥n al R)\ndevtools::install_github(\"rodrodr/tenet\", force=T)"
  },
  {
    "objectID": "interactivo.html",
    "href": "interactivo.html",
    "title": "Interactividaden los gr√°ficos",
    "section": "",
    "text": "Una de las grandes ventajas de la visualizaci√≥n de datos viene de la posibilidad de interactuar con los gr√°ficos. En este sentido, la interactividad permite a los usuarios explorar los datos de manera m√°s profunda, y a menudo, de una manera m√°s intuitiva. En este cap√≠tulo veremos c√≥mo crear gr√°ficos interactivos en R a partir de un conjunto de paquetes especializados."
  },
  {
    "objectID": "interactivo.html#introducci√≥n",
    "href": "interactivo.html#introducci√≥n",
    "title": "Interactividaden los gr√°ficos",
    "section": "",
    "text": "Una de las grandes ventajas de la visualizaci√≥n de datos viene de la posibilidad de interactuar con los gr√°ficos. En este sentido, la interactividad permite a los usuarios explorar los datos de manera m√°s profunda, y a menudo, de una manera m√°s intuitiva. En este cap√≠tulo veremos c√≥mo crear gr√°ficos interactivos en R a partir de un conjunto de paquetes especializados."
  },
  {
    "objectID": "interactivo.html#tipos-de-interacci√≥n",
    "href": "interactivo.html#tipos-de-interacci√≥n",
    "title": "Interactividaden los gr√°ficos",
    "section": "Tipos de interacci√≥n",
    "text": "Tipos de interacci√≥n\nExisten diferentes formas de interacci√≥n en los gr√°ficos interactivos. En este curso exploraremos las siguientes: tooltips, cliques, hover (pasar el cursor sobre un elemento) y zoom. A continuaci√≥n, describiremos cada una de ellas.\n\nTooltips\nLos tooltips son peque√±as ventanas emergentes que aparecen cuando el usuario pasa el rat√≥n sobre un elemento interactivo. En estos tooltips se pueden mostrar datos adicionales que complementan la informaci√≥n que se muestra en el gr√°fico. En R, podemos crear tooltips con solamente definir una variable como contenido o crear versiones m√°s complejas a partir de pocas l√≠neas de c√≥digo html.\nEl c√≥digo abajo muestra c√≥mo crear dos gr√°ficos de dispersi√≥n con tooltips en R. El primero con un tooltip simple y el segundo con uno m√°s complejo. Para hacerlo emplearemos el paquete ggiraph y la geometr√≠a geom_point_interactive, que permite crear gr√°ficos de dispersi√≥n interactivos.\nPrimer gr√°fico: tooltip solo con el nombre del pa√≠s.\n\n\nCode\nlibrary(poliscidata)\nlibrary(ggplot2)\nlibrary(ggiraph)\n\n# Carga los datos\nw &lt;- world\n\n# Genera el gr√°fico\np &lt;- ggplot(w, \n            aes(x=lifeex_total, \n                y=dem_score14))+\n    geom_point_interactive(\n            aes(tooltip=country))\n\n# Visualiza el gr√°fico\n# interactivo\ngirafe(ggobj = p)\n\n\n\n\n\n\nSegundo gr√°fico: tooltip simple con poco c√≥digo html y datos de nuevas variables.\n\n\nCode\n# Versi√≥n A - Saltos de l√≠nea\n\n# Crea una variable en el data.frame\n# con el contenido del tooltip\nw$tooltip_text &lt;- paste0(\"&lt;h5 style='color:red;'&gt;&lt;strong&gt;\", \n                         w$country, \"&lt;/strong&gt;&lt;/h5&gt;\",\n                         \"&lt;strong&gt;Esperanza de vida:&lt;/strong&gt; \",\n                         w$lifeex_total,\n                         \"&lt;br&gt;&lt;strong&gt;Democracia:&lt;/strong&gt; \",\n                         w$dem_score14,\n                         \"&lt;br&gt;&lt;strong&gt;Religi√≥n:&lt;/strong&gt; \",\n                         w$religoin)\n\n# Genera el gr√°fico\np &lt;- ggplot(w, \n            aes(x=lifeex_total, \n                y=dem_score14))+\n    geom_point_interactive(\n            aes(tooltip=tooltip_text))\n\n# Visualiza el gr√°fico\n# interactivo\ngirafe(ggobj = p)\n\n\n\n\n\n\nTercer gr√°fico: tooltip m√°s elaborado con una tabla html.\n\n\nCode\n# Versi√≥n B - tabla\n\n# Crea una variable en el data.frame\n# con el contenido del tooltip\nw$tooltip_text &lt;- paste0(\"&lt;style&gt;.row{border-bottom:1px solid;}&lt;/style&gt;\",\n                        \"&lt;h5 style='color:red;'&gt;&lt;strong&gt;\", \n                         w$country, \n                         \"&lt;/strong&gt;&lt;/h5&gt;\",\n                         \"&lt;table&gt;\",\"\n                         &lt;col width='180px' /&gt;\",\n                         \"&lt;col width='40px' /&gt;\",\n                         \"&lt;tr class='row' style='color:orange;'&gt;\",\n                         \"&lt;td&gt;Esperanza de vida&lt;/td&gt;\",\n                         \"&lt;td&gt;\", round(w$lifeex_total,1),\"&lt;/td&gt;\",\n                         \"&lt;/tr&gt;\",\n                         \"&lt;tr class='row' style='color:yellow;'&gt;\",\n                         \"&lt;td&gt;Democracia&lt;/td&gt;\",\n                         \"&lt;td&gt;\", round(w$dem_score14,1),\"&lt;/td&gt;\",\n                         \"&lt;/tr&gt;\",\n                         \"&lt;tr&gt;\",\n                         \"&lt;td valign='top'&gt;Religi√≥n&lt;/td&gt;\",\n                         \"&lt;td&gt;\", w$religoin,\"&lt;/td&gt;\",\n                         \"&lt;/tr&gt;\",\n                         \"&lt;/table&gt;\")\n\n# Genera el gr√°fico\np &lt;- ggplot(w, \n            aes(x=lifeex_total, \n                y=dem_score14))+\n    geom_point_interactive(\n            aes(tooltip=tooltip_text))\n\n# Visualiza el gr√°fico\n# interactivo\ngirafe(ggobj = p)\n\n\n\n\n\n\n\n\n\nCliques\nLa segunda forma de interacci√≥n que veremos es a trav√©s de cliques. En este caso, el usuario puede hacer clic en un elemento del gr√°fico y ser redirigido a una p√°gina web. En el siguiente ejemplo, al hacer clic en un pa√≠s, se abrir√° una p√°gina de Wikipedia con informaci√≥n sobre el pa√≠s.\nEn este caso, combinamos la instrucci√≥n javascriptde windows.open(), con la direcci√≥n de la p√°gina de Wikipedia del pa√≠s. Para ello, creamos una nueva variable en el data.frame con el c√≥digo javascript direccionando a la p√°gina web. Luego, en la geometr√≠a geom_point_interactive a√±adimos la instrucci√≥n onclick con el nombre de la variable click que contiene el c√≥digo javascript.\n\n\nCode\n# Retira las comillas simples\n# del nombre de los pa√≠ses\nw$country &lt;- gsub(\"'\",\" \",w$country)\n\n# Crea un c√≥digo para abrir la\n# p√°gina de wikipedia del pa√≠s\nw$click &lt;- sprintf(\n              paste0('window.open(\"http://en.wikipedia.org/wiki/', \n                     w$country, \n                     '\")'))\n\n\n# Genera el gr√°fico\np &lt;- ggplot(w, \n            aes(x=lifeex_total, \n                y=dem_score14))+\n    geom_point_interactive(\n            aes(onclick=click,\n                tooltip=country))\n\n# Visualiza el gr√°fico\n# interactivo\ngirafe(ggobj = p)\n\n\n\n\n\n\n\n\nHover\nLa tercera forma de interacci√≥n es a trav√©s del hover, que se activa al pasar el cursor sobre un elemento del gr√°fico. En este caso, se puede mostrar informaci√≥n adicional sobre el elemento sin necesidad de hacer clic. En el c√≥digo abajo, al pasar el cursor sobre un pa√≠s, se cambiar√° el color de los pa√≠ses de un mismo continente y los dem√°s se pondr√°n semitransparentes.\n\n\nCode\nlibrary(poliscidata)\n\nw &lt;- world\n\n# Crea un tooltip con algunos datos\n# del pa√≠s\nw$tooltip_text &lt;- paste0(\"&lt;strong&gt;\", w$country, \"&lt;/strong&gt;&lt;br&gt;\",\n                         \"&lt;strong&gt;Esperanza de vida:&lt;/strong&gt; \",\n                         w$lifeex_total,\n                         \"&lt;br&gt;&lt;strong&gt;Democracia:&lt;/strong&gt; \",\n                         w$dem_score14)\n\n\nlibrary(ggthemes)\nlibrary(ggplot2)\nlibrary(ggiraph)\n\n# Capa de datos\np &lt;- ggplot(w)\n\n# A√±ade la capa de est√©tica\np &lt;- p +\n   aes(x = lifeex_total, \n       y = dem_score14,\n       data_id=regionun)\n\n# A√±ade la capa geom√©trica interactiva\np &lt;- p + geom_point_interactive(\n              aes(tooltip = tooltip_text)\n              )\n\n# Visualiza el gr√°fico interactivo\nx &lt;- girafe(ggobj = p, \n            options = \n              list(\n                opts_hover_inv(css = \"opacity:0.1;\")\n              )\n            )\n\nx\n\n\n\n\n\n\n\n\nZoom\nLa cuarta forma de interacci√≥n es a trav√©s del zoom, que permite al usuario acercar o alejar una parte del gr√°fico. En el siguiente ejemplo, se muestra un gr√°fico de dispersi√≥n con la posibilidad de hacer zoom en una regi√≥n espec√≠fica del gr√°fico por medio de un bot√≥n que aparecer√° en la parte superior derecha.\n\n\nCode\nlibrary(poliscidata)\n\nw &lt;- world\n\n# Crea un tooltip con algunos datos\n# del pa√≠s\nw$tooltip_text &lt;- paste0(\"&lt;strong&gt;\", w$country, \"&lt;/strong&gt;&lt;br&gt;\",\n                         \"&lt;strong&gt;Esperanza de vida:&lt;/strong&gt; \",\n                         w$lifeex_total,\n                         \"&lt;br&gt;&lt;strong&gt;Democracia:&lt;/strong&gt; \",\n                         w$dem_score14)\n\n\nlibrary(ggthemes)\nlibrary(ggplot2)\nlibrary(ggiraph)\n\n# Capa de datos\np &lt;- ggplot(w)\n\n# A√±ade la capa de est√©tica\np &lt;- p +\n   aes(x = lifeex_total, \n       y = dem_score14,\n       data_id=regionun)\n\n# A√±ade la capa geom√©trica interactiva\np &lt;- p + geom_point_interactive(\n              aes(tooltip = tooltip_text)\n              )\n\n# Visualiza el gr√°fico interactivo\nx &lt;- girafe(ggobj = p, \n            options = \n              list(\n                opts_hover_inv(css = \"opacity:0.1;\"),\n                opts_zoom(min=1, max=3)\n              )\n            )\n\nx"
  },
  {
    "objectID": "interactivo.html#paquetes-de-gr√°ficos-interactivos",
    "href": "interactivo.html#paquetes-de-gr√°ficos-interactivos",
    "title": "Interactividaden los gr√°ficos",
    "section": "Paquetes de gr√°ficos interactivos",
    "text": "Paquetes de gr√°ficos interactivos\nEn esta secci√≥n mencionaremos algunos de los paquetes de gr√°ficos interactivos con los que pod√©is crear diferentes formas de visualizaci√≥n de datos. No se trata de un recuento exhaustivo, sino de una selecci√≥n de paquetes que consideramos √∫tiles y f√°ciles de usar. Tambi√©n menciono el paquete tenet que desarrollo para el an√°lisis de textos en R, pero que contiene una serie de gr√°ficos interactivos.\n\nggiraph\nEl primer paquete que mencionaremos es ggiraph, que permite crear gr√°ficos interactivos con la librer√≠a ggplot2. Este paquete es muy √∫til para crear gr√°ficos con la misma sintaxis de ggplot2. Trabaja con geometr√≠as interactivas, como geom_sf_interactive, geom_point_interactive, geom_bar_interactive, entre otras, que se comportan exactamente como sus contrapartes no interactivas, pero con la posibilidad de a√±adir interactividad.\nPara activar la interactividad, se debe a√±adir la funci√≥n girafe() al final del gr√°fico. En el siguiente ejemplo, se muestra un mapa interactivo hecho con ggiraph. Ah√≠ queda evidente la sintaxe de ggplot2 y la facilidad de a√±adir interactividad a un gr√°fico.\n\n\nCode\nlibrary(ggthemes)\nlibrary(ggplot2)\nlibrary(ggiraph)\n\n# Lee los datos de Carolina del Norte\nnc &lt;- sf::st_read(system.file(\"shape/nc.shp\", \n                              package = \"sf\"), \n                  quiet = TRUE)\n\n# Crea un gr√°fico interactivo, con tooltip,\n# hover y click\ngg &lt;- ggplot(nc) +\n  geom_sf_interactive(aes(fill = AREA, \n                          tooltip = NAME, \n                          data_id = NAME,\n                          onclick =  sprintf(\"window.open(\\\"http://en.wikipedia.org/wiki/%s_County,_North_Carolina\\\")\", NAME)))+\n  theme_map()+\n  theme(legend.position = \"none\")+\n  scale_fill_continuous_tableau(palette=\"Purple\")\n  \n# Genera la versi√≥n interactiva  \nx &lt;- girafe(ggobj = gg, \n            options = \n              list(\n                opts_hover(css = ''), \n                opts_hover_inv(css = \"opacity:0.1;\")\n    )\n  )\n\n# Visualiza el gr√°fico\nx\n\n\n\n\n\n\n\n\nplotly\nEl paquete plotly es otro paquete muy √∫til para crear gr√°ficos interactivos en R. Como ggiraph, Este paquete permite crear gr√°ficos interactivos con la misma sintaxis de ggplot2, pero con la posibilidad de a√±adir interactividad. Adem√°s, plotly permite crear gr√°ficos 3D, mapas, gr√°ficos de barras, gr√°ficos de dispersi√≥n, entre otros.\nAbajo vemos un ejemplo de un gr√°fico de dispersi√≥n interactivo hecho con plotly. En este caso, se a√±ade un tooltip con informaci√≥n de cada punto y se a√±ade un efecto de zoom para acercar o alejar una parte del gr√°fico.\n\n\nCode\nlibrary(plotly)\nlibrary(ggplot2)\n\n# Capa de datos\np &lt;- ggplot(w)\n\n# A√±ade la capa de est√©tica\np &lt;- p +\n   aes(x = lifeex_total, \n       y = dem_score14,\n       fill=regionun)\n\n# A√±ade la capa geom√©trica\np &lt;- p + geom_point(color=\"transparent\")\n\nggplotly(p)\n\n\n\n\n\n\n\n\nVisNetwork\nSe trata de una librer√≠a de gr√°ficos de redes interactivos. Permite crear gr√°ficos de redes con nodos y enlaces, y a√±adir interactividad a trav√©s de zoom, arrastrar y soltar, y otros efectos. Permite mucho control de la interactividad y es muy √∫til para visualizar redes complejas.\n\n\nNetworkD3\nEl paquete networkD3 es otra librer√≠a de gr√°ficos de redes interactivos. Basada en D3.js, permite crear gr√°ficos de redes con nodos y enlaces, y a√±adir interactividad a trav√©s de zoom, arrastrar y soltar, y otros efectos. Permite mucho control de la interactividad y es muy √∫til para visualizar redes complejas.\n\n\nleaflet\nEl paquete leaflet es una librer√≠a de mapas interactivos. Permite crear mapas con diferentes capas, a√±adir marcadores, pol√≠gonos, l√≠neas, y a√±adir interactividad a trav√©s de zoom, arrastrar y soltar, y otros efectos. Es muy √∫til para visualizar datos geoespaciales.\n\n\ntmap\nLa librer√≠a tmap es otra librer√≠a de mapas interactivos. Consiste en una alternativa eficiente a leaflet para la visualizaci√≥n de datos geoespaciales.\n\n\ntenet\nEl paquete tenet es un paquete que he desarrollado para el an√°lisis de textos en R. Contiene una serie de gr√°ficos interactivos que permiten explorar los textos de una manera m√°s profunda. A continuaci√≥n, se muestran algunos ejemplos de gr√°ficos.\nforceDirecterTree\nEste gr√°fico muestra un √°rbol de palabras clave con un dise√±o de fuerza directa. Es √∫til para visualizar la relaci√≥n entre las palabras clave y su frecuencia en un texto.\n\n\nCode\n# Carga los paquetes\nlibrary(tenet)\nlibrary(quanteda)\n\n# Crea un objeto corpus con\n# los discursos de investidura\n# de los presidentes espa√±oles\ncp &lt;- corpus(spa.inaugural)\n    \n# Carga el diccionario de palabras\ndic &lt;- dic.pol.es\n\n# Cuenta la frecuencia\nxx &lt;- countKeywords(cp, \n                    dic.pol.es, \n                    rel.freq = F, \n                    group.var = \"President\",\n                    quiet=T)\n\n# Agrega los resultados    \nxx &lt;- aggregate(list(frequency=xx$frequency), \n                by=list(groups=xx$groups, \n                        level1=xx$level1,\n                        level2=xx$level2), \n                sum, na.rm=T)\n\n# Crea el gr√°fico\nforceDirectedTree(data = xx, \n                  height = 500, \n                  max.radius = 40,\n                  value_col = \"frequency\")\n\n\n\n\n\n\nplotVoronoiTree\nComo el gr√°fico anterior, este gr√°fico muestra un √°rbol de palabras clave, pero con un dise√±o de Voronoi. Se trata de una forma de treemap, pero con un dise√±o distinto.\n\n\nCode\n# Con los mismos datos, genera\n# un diagrama de √°rbol de voronoi\nplotVoronoiTree(xx, \n                value_col = \"frequency\")\n\n\n\n\n\n\nplotGrid\nLa funci√≥n plotGrid permite crear una cuadr√≠cula de gr√°ficos interactivos. En el siguiente ejemplo, se muestra c√≥mo crear una cuadr√≠cula de gr√°ficos de dispersi√≥n interactivos con plotGrid.\n\n\nCode\n# Carga los paquetes\nlibrary(tenet)\nlibrary(quanteda)\n\n# Crea un corpus con los \n# discursos de investidura\n# de los presidentes espa√±oles\ncp &lt;- corpus(spa.inaugural)\n\n# Cuenta las palabras clave\n# del diccionario dic.pol.es \n# que he preparado como ejemplo\nxz &lt;- countKeywords(cp, \n                    dic.pol.es, \n                    rel.freq = T, \n                    group.var = \"President\",\n                    quietly = TRUE)\n\n# Agrega las frecuencias por grupo\n# del diccionario\nxx &lt;- aggregate(list(frequency=xz$frequency), \n                by=list(groups=xz$groups,\n                        level1=xz$level1,\n                        level2=xz$level2), \n                sum, na.rm=T)\n\n# Elimina los valores no\n# encontrados\nxx &lt;- xx[xx$frequency&gt;0,]\n\n# Ordena los valores por \n# level1 y level2\nxx &lt;- xx[order(xx$level1, \n               xx$level2),]\n\nxx$level2 &lt;- factor(xx$level2, \n                    levels=unique(xx$level2))\n\n\n# Crea el gr√°fico (estandarizado)\nplotGrid(xx, \n         x=\"groups\", \n         y=\"level2\", \n         size=\"frequency\",\n         palette=pal$cat.cartocolor.bold.11,\n         color=\"level1\", \n         standardize = TRUE,\n         interactive=TRUE,\n         height_svg = 9,\n         width_svg = 8,\n         leg.size = \"Media (%)\",\n         leg.color = \"Categor√≠a\"\n         )\n\n\n\n\n\n\nplotChord\nLa funci√≥n plotChord permite crear un gr√°fico de cuerdas interactivos. En el siguiente ejemplo, se muestra c√≥mo crear un gr√°fico de cuerdas con plotChord.\n\n\nCode\n# Crea un corpus con los\n# discursos de investidura\ncp &lt;- quanteda::corpus(spa.inaugural)\n\n# Carga el diccionario\ndic &lt;- dic.pol.es\n\n# Genera los datos de las \n# coincidencias entre los t√©rminos\n# del diccionario en el corpus\nd &lt;- matchCodes(cp, dic, quietly = T)\n\n# Crea el gr√°fico de cordas\nplotChord(d, \n          from=\"term1\", \n          to=\"term2\", \n          value=\"value\")\n\n\n\n\n\n\nplotKeyness\nLa funci√≥n plotKeyness permite crear un gr√°fico de keyness interactivos. Se trata de entender cu√°les son las palabras m√°s destacadas de un texto de referencia con relaci√≥n a un corpus de otros textos.\n\n\nCode\n# Selecciona solo la\n# sesi√≥n 124 del corpus\n# de debates legislativos de\n# la XIV legislatura\n# \"Ley del S√≠ es S√≠\"\nspa &lt;- spa.sessions[spa.sessions$session.number==124,]\n\n# Agrega los debates por partido\nre &lt;- aggregate(list(text=spa$speech.text), \n                by=list(rep.party=spa$rep.party),\n                FUN=paste, \n                collapse=\"\\n\")\n\n# Crea un corpus con los resultados\ncp &lt;- corpus(re)\n\n# Agrupa por partido\nci &lt;- corpus_group(cp, groups = rep.party)\n\n# Visualiza el gr√°fico\nplotKeyness(corpus = ci,\n            ref.cat = \"Vox\", \n            title = \"\")\n\n\n\n\n\n\nplotSpike\nLa funci√≥n plotSpike permite crear un gr√°fico de dispersi√≥n l√©xica interactivo.\n\n\nCode\n# Agrega los debates por sesi√≥n\nag &lt;- aggregate(list(text=spa.sessions$speech.text),\n                by=list(session_number=spa.sessions$session.number),\n                paste, \n                collapse=\"\\n\")\n\n# A√±ade ceros para ordenar de modo correcto\n# las sesiones por n√∫meros\nag$session_number[nchar(ag$session_number)==1] &lt;- \npaste0(\"00\", ag$session_number[nchar(ag$session_number)==1])\n\nag$session_number[nchar(ag$session_number)==2] &lt;- \npaste0(\"0\", ag$session_number[nchar(ag$session_number)==2])\n\n# Convierte los resultados en un corpus\nlibrary(quanteda)\ncp &lt;- corpus(ag, \n             docid_field = \"session_number\")\n\n\n# Crea un diccionario con los temas\n# territorio, g√©nero y memoria\ndic &lt;- dictionary(\n  list(Territorio=c(\"federal\",\"estatuto\",\"nacionalismo\",\n                    \"regionalismo\",\"catalu√±a\",\"lengua\"),\n       G√©nero=c(\"violencia machista\",\"mujer\",\"violencia sexual\",\n                \"aborto\",\"reproductivo\",\"g√©nero\",\"\\\\btrans\\\\b\"),\n       Memoria=c(\"memoria\",\"franquismo\",\"franquista\",\"dictadura\")))\n\n\n# Busca la posici√≥n de cada palabra\n# en las sesiones\nter &lt;- filterWords(cp, dic)\n\n# Define los nombres de las sesiones.\nter$name &lt;- paste0(\"Session \", ter$name)\n\n# Crea el gr√°fico\nplotSpike(data=ter, \n          legend.title=\"Tema:\",\n          title=\"Congreso de los Diputados - XIV Legislatura (2019-2023)\",\n          subtitle=\"Territorio, g√©nero y memoria en los debates de los plenos.\")\n\n\n\n\n\n\nplotSankey\nLa funci√≥n plotSankey permite crear un gr√°fico interactivo de Sankey o de aluvi√≥n. Resulta excelente para acompa√±ar flujos o transiciones.\n\n\nCode\n# Crea un corpus con los\n# discursos de investidura\ncp &lt;- corpus(spa.inaugural)\n\n# Carga el diccionario\ndic &lt;- dic.pol.es\n\n# Cuenta las palabras clave\nxx &lt;- countKeywords(cp, \n                    dic.pol.es, \n                    rel.freq = F, \n                    group.var = \"President\",\n                    quiet=T)\n\n# Agrega las frecuencias por grupo\nxx &lt;- aggregate(list(frequency=xx$frequency), \n                by=list(groups=xx$groups, \n                        level1=xx$level1,\n                        level2=xx$level2), \n                sum, na.rm=T)\n          \n# Crea el gr√°fico\nplotSankey(data=xx,\n           from=\"groups\",\n           to=\"level1\",\n           value=\"frequency\")\n\n\n\n\n\n\nplotStream\nLa funci√≥n plotStream permite crear un gr√°fico de flujo interactivo. Es ideal para visualizar la evoluci√≥n de las palabras clave en un corpus a lo largo del tiempo.\n\n\nCode\n# Selecciona los diputaos m√°s  \n# representativos de Vox\nag &lt;- spa.sessions[\n        spa.sessions$rep.name%in%\n          c(\"Abascal Conde, Santiago\",\n            \"Espinosa de los Monteros de Sim√≥n, Iv√°n\",\n            \"Olona Chocl√°n, Macarena\",                \n            \"Ortega Smith-Molina, Francisco Javier\"),]\n\n# Crea una variable de mes para \n# facilitar la visualizaci√≥n de los datos\nag$month &lt;- substr(ag$session.date,3,7)\n\n# Agrega las palabras por diputado\n# y mes\nag &lt;- aggregate(\n    list(words=ag$speech.tokens), \n      by=list(\n        month=ag$month, \n        rep=ag$rep.name, \n        party=ag$rep.party), \n      sum, \n      na.rm=T)\n\n# Ordena los datos por mes\nag &lt;- ag[order(ag$month),]\n\n# Crea el gr√°fico\nplotStream(ag, \n           x=\"month\", \n           y=\"words\", \n           group = \"rep\")"
  },
  {
    "objectID": "personalizacion.html",
    "href": "personalizacion.html",
    "title": "AparienciaPersonalizaci√≥n y temas",
    "section": "",
    "text": "En esta parte del curso, aprenderemos a personalizar los gr√°ficos y hacerlos m√°s atractivos. Como en las partes anteriores, utilizaremos la gram√°tica de los gr√°ficos incorporada en la librer√≠a ggplot2 para hacerlo. El prop√≥sito consiste en cambiar diversos elementos relacionados al aspecto y la presentaci√≥n de los gr√°ficos que facilita su interpretaci√≥n y que ayudan mucho en la comunicaci√≥n de los resultados."
  },
  {
    "objectID": "personalizacion.html#introducci√≥n",
    "href": "personalizacion.html#introducci√≥n",
    "title": "AparienciaPersonalizaci√≥n y temas",
    "section": "",
    "text": "En esta parte del curso, aprenderemos a personalizar los gr√°ficos y hacerlos m√°s atractivos. Como en las partes anteriores, utilizaremos la gram√°tica de los gr√°ficos incorporada en la librer√≠a ggplot2 para hacerlo. El prop√≥sito consiste en cambiar diversos elementos relacionados al aspecto y la presentaci√≥n de los gr√°ficos que facilita su interpretaci√≥n y que ayudan mucho en la comunicaci√≥n de los resultados."
  },
  {
    "objectID": "personalizacion.html#personalizaci√≥n-de-los-gr√°ficos",
    "href": "personalizacion.html#personalizaci√≥n-de-los-gr√°ficos",
    "title": "AparienciaPersonalizaci√≥n y temas",
    "section": "Personalizaci√≥n de los gr√°ficos",
    "text": "Personalizaci√≥n de los gr√°ficos"
  },
  {
    "objectID": "personalizacion.html#las-variables-b√°sicas-color-forma-y-tama√±o",
    "href": "personalizacion.html#las-variables-b√°sicas-color-forma-y-tama√±o",
    "title": "AparienciaPersonalizaci√≥n y temas",
    "section": "Las variables b√°sicas: color, forma y tama√±o",
    "text": "Las variables b√°sicas: color, forma y tama√±o\n\nColor\nEl elemento m√°s evidente en la personalizaci√≥n de los gr√°ficos es el color. En ggplot2, los colores se pueden modificar de diversas maneras. Por ejemplo, se pueden cambiar los colores de las l√≠neas, los puntos, las barras, los textos, los fondos, entre otros.\nAdem√°s, los colores no van solos, sino que se combinan en paletas o escalas de colores. Las paletas de colores son conjuntos de colores que se combinan de manera armoniosa y que se utilizan para representar diferentes categor√≠as o variables en un gr√°fico. Existen tres tipos fundamentales de escala de colores:\n\nsequencial - se utilizan para representar variables num√©ricas cont√≠nuas que van de un valor bajo a un valor alto. Por ejemplo, la poblaci√≥n, el porcentaje de voto o el PIB per c√°pita.\n\n\n\n\n\n\nLa figura arriba muestra las paletas de colores secuenciales disponibles en el paquete RColorBrewer que incorpora las escalas desarrolladas por Cynthia Brewer y que se pueden explorar en ColorBrewer. Como podemos ver, los colores van de los tonos m√°s claros a los m√°s oscuros. En general, los colores m√°s claros representan valores bajos y los colores m√°s oscuros representan valores altos.\n\ndivergente - se utilizan para representar variables num√©ricas que tienen un punto medio o un valor de referencia. Por ejemplo, la diferencia entre dos valores, la temperatura, el cambio porcentual o la correlaci√≥n.\n\n\n\n\n\n\nAhora, el punto medio de la escala tiene su centro en un color neutro -como el blanco, el gris o el amarillo- y dos escalas contrarias que marcan posiciones antag√≥nicas. Los colores de cada una de ellas se hace m√°s intensos a medida que se alejan del centro.\n\ncualitativo - se utilizan para representar variables categ√≥ricas o nominales. Por ejemplo, los pa√≠ses, los partidos pol√≠ticos, los tipos de productos o los colores.\n\n\n\n\n\n\nTales escalas permiten representar valores que no poseen un orden o una jerarqu√≠a. Por lo tanto, los colores se utilizan para diferenciar las categor√≠as y no para representar valores num√©ricos. De ese modo, no hay un patr√≥n jer√°rquico ascendiente, descendiente o centr√≠fugo. El objetivo consiste en diferenciar al m√°ximo las categor√≠as entre s√≠, sin establecer una relaci√≥n de jerarqu√≠a entre ellas.\nDe ese modo, debemos emplear diferentes escalas de color de acuerdo con el tipo de informaci√≥n que disponemos. Por ejemplo, si queremos representar la evoluci√≥n de una variable a lo largo del tiempo, es mejor utilizar una escala de color secuencial. Si queremos representar la diferencia entre dos valores, es mejor utilizar una escala de color divergente. Si queremos representar diferentes categor√≠as, es mejor utilizar una escala de color cualitativa.\nAdem√°s, en un gr√°fico de ggplot2 hay dos elementos que se somente a la manipulaci√≥n del color: el fill y el color. El fill se utiliza para rellenar √°reas -de las barras, l√≠neas, puntos, pol√≠gonos, entre otros-. El color, por otra parte, se utiliza para cambiar el color de los bordes.\nLas funciones relacionadas a las escalas de color, por lo tanto, respetan eso dos ejes: el tipo de escala (secuencial, divergente o cualitativa) y si se trata de color (color) o relleno (fill).\nEl gr√°fico de cajas (boxplot) abajo es el mismo de la secci√≥n anterior. No obstante, ahora a√±adimos un elemento m√°s al gr√°fico: la escala de color scale_color_brewer y seleccionamos la paleta cualitativa llamada Dark2. Aprovechamos tambi√©n para cambiar el t√≠tulo de la leyenda para ‚ÄúRegi√≥n‚Äù (name=‚ÄúRegi√≥n‚Äù). Vemos que los colores de relleno de las cajas cambian para corresponder a la nueva escala de color.\nEl gr√°fico original:\n\n\nCode\n# carga los datos y\n# el paquete ggplot2\nlibrary(poliscidata)\nlibrary(ggplot2)\n\n# Datos sobre los estados\n# de EE. UU.\nd &lt;- states \n\n# Crea el gr√°fico de cajas (boxplot)\np &lt;- ggplot(data = d,\n            mapping = aes(x=unemploy, \n                          y=region,\n                          color=region,\n                          group=region)) + \n        geom_boxplot(width=0.1)\n\np\n\n\n\n\n\n\nEl gr√°fico con la nueva escala:\n\n\nCode\np &lt;- p + scale_color_brewer(name=\"Regi√≥n\",\n                           palette=\"Dark2\")\n\np\n\n\n\n\n\n\nAhora, emplearemos el atributo fill para cambiar el color de relleno. Para ello, en lugar de emplear color en la capa de est√©tica, cambiaremos para fill y a scale_fill_brewer. Veamos la diferencia en un nuevo gr√°fico:\n\n\nCode\n# carga los datos y\n# el paquete ggplot2\nlibrary(poliscidata)\nlibrary(ggplot2)\n\n# Datos sobre los estados\n# de EE. UU.\nd &lt;- states \n\n# Crea el gr√°fico de cajas (boxplot)\np &lt;- ggplot(data = d,\n            mapping = aes(x=unemploy, \n                          y=region,\n                          fill=region,\n                          group=region)) + \n        geom_boxplot(width=0.1)\n\np\n\n\n\n\n\nCode\np &lt;- p + scale_color_brewer(name=\"Regi√≥n\", \n                            palette=\"Dark2\")\n\np\n\n\n\n\n\nY si quiero elegir los colores, ¬øqu√© hago? Sencillo, debes elegir la escala de color o relleno manual:\n\n\nCode\np &lt;- p + scale_fill_manual(values=c(\"red3\",\n                                     \"steelblue\",\n                                     \"darkgreen\",\n                                     \"purple\"))\n\np\n\n\n\n\n\n\n\nFormas y s√≠mbolos\nOtro elemento visual que podemos adaptar a nuestros intereses son las formas o los s√≠mbolos. Por ejemplo, en algunas publicaciones, piden a los autores que generen gr√°ficos en blanco y negro o escala de grises. En esos casos, toca emplear otros recursos visuales. En un diagrama de dispersi√≥n podemos querer emplear distintos tipos de s√≠mbolo (c√≠rculos, cuadrados, tri√°ngulos o rombos, por ejemplo) para diferencias entre categor√≠as.\nPara ello, empleamos el par√°metro shape en la capa est√©tica para definir que a una variable determinada corresponder√° un s√≠mbolo √∫nico. Reutilizaremos el c√≥digo para el gr√°fico de dispersi√≥n de la secci√≥n anterior para establecer el continente (regionun) como variable que determinar√° la forma de los puntos en el gr√°fico:\n\n\nCode\nlibrary(poliscidata)\n\n# Empleamos los datos de paises\n# y excluimos los casos en los\n# que no hay informaci√≥n sobre\n# la religi√≥n\nw &lt;- world\nw &lt;- w[! is.na(w$religoin),]\n\nlibrary(ggplot2)\n\n# Crea el gr√°fico\np &lt;- ggplot(w)\n\n# Capa est√©tica con la religi√≥n\n# como color\np &lt;- p + aes(x=hdi, \n            y=dem_score14,\n            shape=regionun)\n\n# Capa geom√©trica\np &lt;- p + geom_point()\n\n# Visualiza el gr√°fico\np\n\n\n\n\n\n\n\nTama√±o\nFinalmente, el tama√±o representa la tercera variable visual que nos ocuparemos aqu√≠. El par√°metro sizepermite escalonar las observaciones del gr√°fico para que se destaquen en funci√≥n de una variable num√©rica. En el siguiente gr√°fico de dispersi√≥n, empleamos el tama√±o de los puntos para representar la poblaci√≥n total de los pa√≠ses.\n\n\nCode\nlibrary(ggplot2)\n\n# Crea el gr√°fico\np &lt;- ggplot(w)\n\n# Capa est√©tica con la religi√≥n\n# como color\np &lt;- p + aes(x=hdi, \n            y=dem_score14,\n            size=pop_total)\n\n# Capa geom√©trica\np &lt;- p + geom_point()\n\n# Visualiza el gr√°fico\np"
  },
  {
    "objectID": "personalizacion.html#texto",
    "href": "personalizacion.html#texto",
    "title": "AparienciaPersonalizaci√≥n y temas",
    "section": "Texto",
    "text": "Texto\nLa gran mayor√≠a de los gr√°ficos incluye un conjunto de elementos de texto: t√≠tulos, ejes, etiquetas, leyendas, entre otros. Una buena elecci√≥n de t√≠tulo, su tama√±o y posici√≥n, por ejemplo, puede hacer que el gr√°fico sea m√°s f√°cil de entender. En gr√°ficos cient√≠ficos, resulta obligatorio a√±adir informaci√≥n las fuentes de los datos. El tipo de fuente tambi√©n puede ser manipulado para mejorar la legibilidad del gr√°fico o para atraer la atenci√≥n. Por esa raz√≥n, en este apartado veremos c√≥mo manipular los elementos textuales de los gr√°ficos. Nos concentraremos en tres elementos concretos: las fuentes o tipograf√≠as, los t√≠tulos y las etiquetas.\n\nFuentes\nLas fuentes tipogr√°ficas pueden personalizar un gr√°fico y ayudar a convertirlo en algo m√°s atractivo. En ggplot2, la funci√≥n theme permite manipular los elementos textuales de un gr√°fico. Para cambiar la fuente de un gr√°fico, empleamos el atributo family en la funci√≥n element_text. No obstante, muchas geometr√≠as de ggplot2 tienen un atributo family que permite cambiar la fuente de un elemento espec√≠fico.\nA continuaci√≥n, mostramos c√≥mo cambiar la fuente de un gr√°fico de dispersi√≥n con dos fuentes descargadas de Google Fonts: Griffy y Mr Bedfort. Para ello, empleamos la funci√≥n theme y element_text para cambiar la fuente de los elementos textuales del gr√°fico:\n\n\nCode\np + theme(text=element_text(family=\"Griffy\",\n                            size=20,\n                            face=\"bold\"))\n\n\n\n\n\nCode\np + theme(text=element_text(family=\"Mr Bedfort\", \n                            size=16))\n\n\n\n\n\n\n\nT√≠tulos\n¬øQu√© hacemos con un gr√°fico sin t√≠tulos? Pues, no sabr√≠amos qu√© estamos viendo. Los t√≠tulos son esenciales para la interpretaci√≥n de los gr√°ficos. Los ejes tambi√©n deben estar bien etiquetados para que el lector pueda entender qu√© est√° viendo.\nEn ggplot2, los t√≠tulos se pueden a√±adir a trav√©s de la funci√≥n labs. Esta funci√≥n permite a√±adir t√≠tulos a los ejes, la leyenda y el gr√°fico en general. A continuaci√≥n, mostramos c√≥mo a√±adir un t√≠tulo al gr√°fico de dispersi√≥n de la secci√≥n anterior:\n\n\nCode\np &lt;- p + labs(title=\"√çndice de Desarrollo Humano vs. Democracia\",\n               subtitle= \"Pa√≠ses del mundo\",\n               x=\"√çndice de Desarrollo Humano\",\n               y=\"Democracia\",\n               caption=\"Fuente: paquete poliscidata.\",\n               size=\"Poblaci√≥n\")\n\np\n\n\n\n\n\nUna curiosidad. Si os hab√©is fijado bien, hemos a√±adido un par√°metro size=‚ÄúPoblaci√≥n‚Äù a los textos. Este par√°metro permite a√±adir un t√≠tulo a la leyenda de tama√±o del gr√°fico. Si hubi√©ramos a√±adido una variable de color, podr√≠amos a√±adir el t√≠tulo de la leyenda de color con el par√°metro color=‚ÄúReligi√≥n‚Äù. Hag√°moslo:\n\n\nCode\n# A√±ade la religi√≥n como color en\n# la capa de est√©tica\np &lt;- p + aes(color=religoin)\n\n# A√±ade el t√≠tulo de la leyenda de color\np &lt;- p + labs(color=\"Religi√≥n\")\n\n# Muestra el gr√°fico\np\n\n\n\n\n\nComo pod√©is ver, lo que hab√≠a hecho antes se qued√≥ y he ido a√±adiendo cosas. Esa es una de las principales ventajas de ggplot2: la capacidad de a√±adir elementos a un gr√°fico de forma sencilla y r√°pida.\n\n\nEtiquetas de valores\nEn algunos casos, es necesario a√±adir etiquetas a los valores de un gr√°fico. Por ejemplo, en un gr√°fico de dispersi√≥n, puede ser √∫til a√±adir el nombre de los pa√≠ses a los puntos. Para ello, empleamos la funci√≥n geom_text o geom_text_repel del paquete ggrepel. La funci√≥n geom_text a√±ade etiquetas a los puntos del gr√°fico, mientras que geom_text_repel a√±ade etiquetas que no se solapan entre s√≠. A continuaci√≥n, mostramos c√≥mo a√±adir etiquetas a los puntos del gr√°fico de dispersi√≥n de la secci√≥n anterior:\n\n\nCode\np &lt;- ggplot(d, aes(x=abort_rate08, \n                   y=obama08))+\n        geom_point()\n\n\np + geom_text(aes(label=stateid), \n              hjust=0, \n              vjust=0)\n\n\n\n\n\nEl pr√≥ximo gr√°fico muestra c√≥mo utilizar la funci√≥n geom_text_repel para a√±adir etiquetas a los puntos del gr√°fico de dispersi√≥n. En este caso, las etiquetas no se solapan entre s√≠:\n\n\nCode\n# Carga el paquete\nlibrary(ggrepel)\n\n# A√±ade las etiquetas\np + geom_text_repel(\n        aes(label=stateid), \n            hjust=0, \n            vjust=0,\n            check_overlap = TRUE)"
  },
  {
    "objectID": "personalizacion.html#temas",
    "href": "personalizacion.html#temas",
    "title": "AparienciaPersonalizaci√≥n y temas",
    "section": "Temas",
    "text": "Temas\nLos temas son una forma de personalizar la apariencia de un gr√°fico. Tienen una enorme utilidad, porque permiten cambiar la apariencia de un gr√°fico de forma r√°pida y sencilla y, adem√°s, garantizar un estilo √∫nico para los gr√°ficos de un proyecto. Por ejemplo, si estoy escribiendo la tesis doctoral y quiero garantizar que todos mis gr√°ficos tengan la misma apariencia, puedo crear un tema personalizado y aplicarlo a todos los gr√°ficos. Este trabajo ser√≠a mucho m√°s laborioso sin el uso de los temas.\nEn ggplot2, los temas permiten cambiar la apariencia de los elementos del gr√°fico, como el fondo, los ejes, las etiquetas, entre otros. La funci√≥n theme permite cambiar el tema de un gr√°fico. Existe una cantidad enorme de temas predefinidos en ggplot2 o en paquetes adicionales como ggthemes o tvthemes, pero tambi√©n es posible crear un tema personalizado.\n\nTemas predefinidos\nEn paquete ggplot2 posee una serie de temas predefinidos que permiten cambiar la apariencia de un gr√°fico. Son conjunto de instrucciones que definen la apariencia de los elementos de un gr√°fico, como la fuente, los colores, el fondo, los ejes, entre otros.El c√≥digo abajo muestra c√≥mo cambiar el tema de un gr√°fico de dispersi√≥n a un tema predefinido de ggplot2:\n\n\nCode\np &lt;- ggplot(d, aes(x=abort_rate08, \n                   y=obama08))+\n        geom_point()+\n        labs(title=\"Aborto y voto en Obama\",\n             subtitle=\"Tasa de aborto y voto en Obama en los estados de EE. UU. en 2008.\",\n             x=\"Tasa de aborto\",\n             y=\"Votos para Obama\",\n             caption=\"Fuente: paquete poliscidata.\")\n\np &lt;- p + theme_classic()\n\np + geom_text_repel(\n        aes(label=stateid), \n            hjust=0, \n            vjust=0,\n            check_overlap = TRUE)\n\n\n\n\n\nSi comparamos con la versi√≥n anterior del mismo gr√°fico, vemos que hay una mejor√≠a significativa en la presentaci√≥n. El tema theme_classic es uno de los temas predefinidos de ggplot2. Otros temas predefinidos son theme_minimal, theme_light, theme_dark, theme_bw, entre otros. No hay colores y muy pocos elementos decorativos, algo que convierte el gr√°fico en particularmente atractivo para visualizar los patrones.\nPodemos utilizar el tema de los Simpsons del paquete tvthemes para cambiar la apariencia de un gr√°fico.\n\n\nCode\nlibrary(tvthemes)\n\np + theme_simpsons()\n\n\n\n\n\n\n\nPersonalizaci√≥n de los temas\nSi los temas predefinidos no son suficientes, es posible personalizar un tema detalle por detalle. Para ello, se utiliza la funci√≥n theme y se a√±aden los elementos que se desean personalizar. Tomemos como ejemplo el ridge plot que creamos anteriormente.\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggridges)\n\n# Crea el gr√°fico\n# con la relaci√≥n entre \n# fraccionamiento √©tnico y religi√≥n\np &lt;- ggplot(w,\n            aes(x=frac_eth, \n                y=religoin, \n                fill=religoin))\n\n# A√±ade la capa de geometr√≠a\np &lt;- p + geom_density_ridges()\n\n# Visualiza los resultados\np\n\n\n\n\n\nCambiemos una serie de elementos para hacerlo m√°s atractivo:\n\n\nCode\n# A√±adimos un t√≠tulo y los nombres de los ejes\np &lt;- p + labs(title=\"**Fraccionamiento √©tnico y religi√≥n**\",\n              x=\"Fraccionamiento √©tnico\",\n              y=\"\",\n              caption=\"Fuente: paquete poliscidata.\",\n              fill=\"Religi√≥n\")\n\n# Cargamos el paquete ggtext\n# que permite personalizar la \n# apariencia de los textos\nlibrary(ggtext)\n\n# Personalizamos la aparencia\np &lt;- p + theme(text=element_text(family=\"Kranky\"), # Fuente\n        legend.position = \"bottom\", # Leyenda abajo\n        plot.title = element_markdown(size=20), # T√≠tulo en markdown\n        panel.background = element_rect(fill=\"white\")\n)\n\n# Cambiamos la escala de color\n# para la de juego de tronos\n# del paquete tvthemes\np + scale_fill_westeros()"
  },
  {
    "objectID": "recursos.html",
    "href": "recursos.html",
    "title": "Recursos √∫tiles para la visualizaci√≥n de datos",
    "section": "",
    "text": "Existen muchos proyectos que nos ayudan a crear visualizaciones de datos hermosas y efectivas. Algunos de ellos son recursos extremadamente √∫tiles y repositorios de c√≥digo disponibles para nosotros.\n\n\nLa p√°gina web Dataviz inspiration provee hermosos gr√°ficos e historias de datos. Estos ejemplos curados nos ayudan a visualizar el potencial completo de la visualizaci√≥n de datos y a obtener algunas ideas que podemos usar para nuestros propios an√°lisis. Uno de los ejemplos sobresalientes es Ailing Brussels, un an√°lisis de la desigualdad en Bruselas por la revista belga de investigaci√≥n Med√≥r. El proyecto emplea mapas, gr√°ficos, animaci√≥n y una narrativa convincente a trav√©s de im√°genes, textos y videos para describir la divisi√≥n espacial de Bruselas en cuanto a oportunidades y niveles de precariedad.\n\n\n\n\n\nVisite ambos sitios, Dataviz Inspirations y Ailing Brussels, para tener una maravillosa experiencia de las posibilidades de la visualizaci√≥n de datos.\n\n\n\nEl segundo recurso es el Proyecto Data to Viz. Es el resultado de un gran esfuerzo de sistematizaci√≥n. Yan Holtz, el creador, organiz√≥ gr√°ficos seg√∫n el tipo de datos o el tipo de an√°lisis. Cada gr√°fico tiene su propia p√°gina explicando c√≥mo y en qu√© ocasi√≥n se debe usar o evitar. Tambi√©n proporciona acceso a R Graph Gallery con c√≥digo detallado que muestra c√≥mo replicarlo en R.\n\n\n\n\n\n\n\n\nComo se mencion√≥ anteriormente, esta p√°gina web es un repositorio que contiene c√≥digo para que los usuarios reproduzcan muchos tipos diferentes de gr√°ficos en R. ¬øC√≥mo puedo hacer un gr√°fico de dispersi√≥n en R? Mire la galer√≠a y lo descubrir√°. ¬øY un gr√°fico de barras? Lo mismo. Este es un lugar obligatorio para buscar cuando se aprende visualizaci√≥n de datos."
  },
  {
    "objectID": "recursos.html#introducci√≥n",
    "href": "recursos.html#introducci√≥n",
    "title": "Recursos √∫tiles para la visualizaci√≥n de datos",
    "section": "",
    "text": "Existen muchos proyectos que nos ayudan a crear visualizaciones de datos hermosas y efectivas. Algunos de ellos son recursos extremadamente √∫tiles y repositorios de c√≥digo disponibles para nosotros.\n\n\nLa p√°gina web Dataviz inspiration provee hermosos gr√°ficos e historias de datos. Estos ejemplos curados nos ayudan a visualizar el potencial completo de la visualizaci√≥n de datos y a obtener algunas ideas que podemos usar para nuestros propios an√°lisis. Uno de los ejemplos sobresalientes es Ailing Brussels, un an√°lisis de la desigualdad en Bruselas por la revista belga de investigaci√≥n Med√≥r. El proyecto emplea mapas, gr√°ficos, animaci√≥n y una narrativa convincente a trav√©s de im√°genes, textos y videos para describir la divisi√≥n espacial de Bruselas en cuanto a oportunidades y niveles de precariedad.\n\n\n\n\n\nVisite ambos sitios, Dataviz Inspirations y Ailing Brussels, para tener una maravillosa experiencia de las posibilidades de la visualizaci√≥n de datos.\n\n\n\nEl segundo recurso es el Proyecto Data to Viz. Es el resultado de un gran esfuerzo de sistematizaci√≥n. Yan Holtz, el creador, organiz√≥ gr√°ficos seg√∫n el tipo de datos o el tipo de an√°lisis. Cada gr√°fico tiene su propia p√°gina explicando c√≥mo y en qu√© ocasi√≥n se debe usar o evitar. Tambi√©n proporciona acceso a R Graph Gallery con c√≥digo detallado que muestra c√≥mo replicarlo en R.\n\n\n\n\n\n\n\n\nComo se mencion√≥ anteriormente, esta p√°gina web es un repositorio que contiene c√≥digo para que los usuarios reproduzcan muchos tipos diferentes de gr√°ficos en R. ¬øC√≥mo puedo hacer un gr√°fico de dispersi√≥n en R? Mire la galer√≠a y lo descubrir√°. ¬øY un gr√°fico de barras? Lo mismo. Este es un lugar obligatorio para buscar cuando se aprende visualizaci√≥n de datos."
  },
  {
    "objectID": "recursos.html#proyectos-hermosos",
    "href": "recursos.html#proyectos-hermosos",
    "title": "Recursos √∫tiles para la visualizaci√≥n de datos",
    "section": "Proyectos hermosos",
    "text": "Proyectos hermosos\nEn esta secci√≥n, presentamos algunos proyectos que nos inspiran y nos muestran c√≥mo la visualizaci√≥n de datos puede ser hermosa y efectiva.\n\nDear Data\nSe trata de un proyecto de dos dise√±adoras, Giorgia Lupi y Stefanie Posavec, que consiste en enviar postales semanales con datos personales dibujados a mano. Cada semana, durante un a√±o, las dos dise√±adoras recopilaron datos sobre sus vidas cotidianas y los representaron en postales. El proyecto resultante es una colecci√≥n de visualizaciones de datos dibujadas a mano que revelan la belleza de los datos y la creatividad de las dise√±adoras. El proyecto tambi√©n se convirti√≥ en un libro, Dear Data, que recopila las postales y las visualizaciones de datos.\nUn breve video explicando el proyecto:\n\nLa metodolog√≠a empleada explicada con m√°s detalle:\n\n\n\n\nEspa√±a vive en pisos (El Diario.es)\nEste proyecto de El Diario.es es un ejemplo de c√≥mo la visualizaci√≥n de datos puede ser utilizada para contar historias complejas. El proyecto visualiza la distribuci√≥n de la poblaci√≥n en Espa√±a y c√≥mo la mayor√≠a de la gente vive en pisos. La visualizaci√≥n combina mapas, gr√°ficos y narrativa para contar la historia de c√≥mo la mayor√≠a de la gente en Espa√±a vive en pisos y c√≥mo esto afecta a la calidad de vida y la desigualdad en el pa√≠s.\nNo se trata de la √∫nica visualizaci√≥n premiada. A d√≠a de hoy, el peri√≥dico posee el equipo de periodismo de datos m√°s destacado de Espa√±a y uno de los m√°s reconocidos a nivel internacional.\n\n\n\n\n\n\n\nEl Atlas de los ODS\nEl Atlas de los Objetivos de Desarrollo Sostenible (ODS) es un proyecto de la Divisi√≥n de Datos del Banco Mundial que visualiza los datos de los ODS en un formato interactivo y accesible. El Atlas proporciona visualizaciones de datos sobre los 17 ODS y los 169 objetivos espec√≠ficos de los ODS. Los datos se presentan en mapas, gr√°ficos y tablas interactivas que permiten a los usuarios explorar los datos y comparar los indicadores de los ODS en diferentes pa√≠ses y regiones. El Atlas es una herramienta valiosa para los responsables de la toma de decisiones, los investigadores y el p√∫blico en general que deseen comprender mejor los desaf√≠os y las oportunidades relacionados con los ODS.\n\n\n\n\n\n\n\nPoppy field\nValentina D‚ÄôFillipo cre√≥ una visualizaci√≥n para conmemorar el centenario de la Primera Guerra Mundial. La visualizaci√≥n muestra la cantidad de soldados que murieron en las guerras ocurridas durante el per√≠odo comprendido entre 1914 y 2014, representados por amapolas. La visualizaci√≥n es interactiva y permite a los usuarios explorar la cantidad de soldados que murieron en cada pa√≠s y en cada a√±o en las distintas guerras. La visualizaci√≥n es hermosa y efectiva, y nos recuerda la importancia de la visualizaci√≥n de datos para contar historias y evitar el olvido de eventos hist√≥ricos importantes.\n\n\n\n\n\n\n\nVisual Cinnamon\nVisual Cinnamon es la p√°gina personal de la dise√±adora visual Nadieh Bremer. Se trata de una fuente de inspiraci√≥n para cualquier persona interesada en la visualizaci√≥n de datos. Nadieh es conocida por su estilo √∫nico y su habilidad para combinar datos y dise√±o de una manera hermosa y efectiva. Su portafolio incluye visualizaciones de datos sobre temas como la m√∫sica, la astronom√≠a y la historia.\nAlgunos ejemplos de su trabajo que me gustan particularmente:\n\nPatrimonio cultural intangible (UNESCO)\nSe trata de una visualizaci√≥n interactiva que muestra el patrimonio cultural intangible de la UNESCO. Incorpora diversos tipos de gr√°fico y nos permite sacar ideas de qu√© podemos hacer con diferentes tipos de dato.\n\n\n\n\n\n\n\n¬øPor qu√© los gatos y perros‚Ä¶? (Google)\nEn esta visualizaci√≥n, Nadieh explora las preguntas m√°s comunes sobre gatos y perros en Google. Nos recuerda la estructura jer√°rquica del lenguaje y c√≥mo podemos representar las alternativas variantes de forma visualmente impactante y efectiva."
  },
  {
    "objectID": "tipos.html",
    "href": "tipos.html",
    "title": "Tiposde gr√°fico",
    "section": "",
    "text": "En esta parte del curso examinaremos algunos de los tipos m√°s comunes de gr√°fico. Los organizaremos seg√∫n el tipo de an√°lisis que se desea realizar con ellos. Por ejemplo, si queremos saber si una variable cuantitativa afecta otra igual, realizamos un gr√°fico de dispersi√≥n o un correlograma. si el objetivo es saber la frecuencia de una variable categ√≥rica, un gr√°fico de barras puede ser la mejor opci√≥n."
  },
  {
    "objectID": "tipos.html#introducci√≥n",
    "href": "tipos.html#introducci√≥n",
    "title": "Tiposde gr√°fico",
    "section": "",
    "text": "En esta parte del curso examinaremos algunos de los tipos m√°s comunes de gr√°fico. Los organizaremos seg√∫n el tipo de an√°lisis que se desea realizar con ellos. Por ejemplo, si queremos saber si una variable cuantitativa afecta otra igual, realizamos un gr√°fico de dispersi√≥n o un correlograma. si el objetivo es saber la frecuencia de una variable categ√≥rica, un gr√°fico de barras puede ser la mejor opci√≥n."
  },
  {
    "objectID": "tipos.html#tipos-de-dato-y-tipos-de-gr√°ficos",
    "href": "tipos.html#tipos-de-dato-y-tipos-de-gr√°ficos",
    "title": "Tiposde gr√°fico",
    "section": "Tipos de dato y tipos de gr√°ficos",
    "text": "Tipos de dato y tipos de gr√°ficos\nCada tipo de gr√°fico suele corresponder a un tipo de dato o a una combinaci√≥n entre tipos de dato. Por esa raz√≥n, resulta √∫til conocer la clasificaci√≥n de los gr√°ficos seg√∫n los diferentes tipos de informaci√≥n para sacar los mejores resultados.\nLa p√°gina from Data to Viz resulta muy √∫til, pues ofrece una doble clasificaci√≥n de los datos: por tipo de dato y el tipo de representaci√≥n que se desea realizar. Recomiendo fuertemente que la estudi√©is con detenimiento para tener una idea general de qu√© opciones ten√©is. Luego, podr√©is regresar a la p√°gina para refrescar los conceptos y encontrar ejemplos, as√≠ como los c√≥digos. Se trata de una herramienta muy √∫til a la hora de elegir el tipo de visualizaci√≥n que queremos para nuestros datos."
  },
  {
    "objectID": "tipos.html#distribuci√≥n",
    "href": "tipos.html#distribuci√≥n",
    "title": "Tiposde gr√°fico",
    "section": "Distribuci√≥n",
    "text": "Distribuci√≥n\nLos gr√°ficos de distribuci√≥n son √∫tiles para entender c√≥mo se distribuyen los datos. ¬øCu√°l categor√≠a es la m√°s frecuente? ¬øLos votos en un partido X en las mesas de Sevilla se encuentran concentrados alrededor de la media o var√≠an mucho? Las visualizaciones de este apartado ayudan a responder a dichas preguntas. En este grupo se encuentran los histogramas, los gr√°ficos de densidad, los diagramas de caja (boxplots) o los de viol√≠n (violin).\n\nGr√°ficos de barras\nEl gr√°fico de barras es uno de los m√°s comunes y √∫tiles. Se utiliza para representar la frecuencia de una variable categ√≥rica. Por ejemplo, si queremos saber cu√°ntos votos ha obtenido cada partido en una elecci√≥n, un gr√°fico de barras es la mejor opci√≥n. Esto nos permite comparar los valores y sacar conclusiones y patrones a partir de ellos.\nEl c√≥digo abajo crea un gr√°fico de barra para la variable pot_policy de la base de datos de los estados de EE. UU. La variable pot_policy representa la pol√≠tica relacionada a la legalizaci√≥n de la marijuana dominante en cada estado.\nAdem√°s, para no aburrirnos, tambi√©n vamos a crear un gr√°fico de barras polar. Este tipo de gr√°fico es √∫til cuando queremos comparar la frecuencia de una variable categ√≥rica en un c√≠rculo. En este caso, la variable pot_policy se encuentra en el eje x y el eje y representa la frecuencia de cada categor√≠a. Como ver√©is, se trata del mismo gr√°fico. Lo √∫nico que cambia es el sistema de coordenadas.\n\n\nCode\n# Carga los datos\nlibrary(poliscidata)\n\n# Crea un data.frame d\n# con los datos de los estados\nd &lt;- states\n\n\n# reordena de modo decreciente de \n# la frecuencia\nd$pot_policy &lt;- reorder(\n                       d$pot_policy, \n                       d$pot_policy, \n                       function(x) -length(x))\n\n#\nlibrary(ggplot2)\n\n# 1) Crea la capa de datos\np &lt;- ggplot(data = d)\n\n# 2 ) A√±ade la capa de est√©tica\np &lt;- p + aes(x=pot_policy) \n\n# 3) A√±ade la capa de geometr√≠a\np &lt;- p + geom_bar()\n\n# Visualiza el gr√°fico\np\n\n\n\n\n\nCode\n# 4) A√±ade la capa de coordenadas \n# (en este caso polares)\np + coord_polar()\n\n\n\n\n\n\n\nHistograma\nEl histograma es una visualizaci√≥n muy √∫til para entender la distribuci√≥n de una variable cuantitativa. Se divide en intervalos que contienen el n√∫mero de observaciones (en nuestro caso estados) con valores entre los l√≠mites de cada uno de ellos.\nEn el siguiente c√≥digo, creamos un histograma para la variable pop2010 de la base de datos de los estados de EE. UU. La variable pop2010 representa la poblaci√≥n de cada estado en el a√±o 2010.\n\n\nCode\nlibrary(ggplot2)\n\n# Crea el histograma para pop2010\np &lt;- ggplot(d, aes(pop2010))+\n  \n      # Adicional la geometr√≠a con 8 intervalos\n      geom_histogram(bins = 8)\n\n# Visualiza\np\n\n\n\n\n\nComo podemos ver, el patr√≥n com√∫n de los datos de poblaci√≥n se revela: muchos estados con poca poblaci√≥n y unos pocos con mucha. Ese comportamiento suele pasar tambi√©n en municipios, pa√≠ses, etc.\n\n\nDensidad\nEl gr√°fico de densidad es similar al histograma, pero en lugar de contar el n√∫mero de observaciones en un intervalo, muestra una curva que representa la densidad de probabilidad de la variable. En otras palabras, el √°rea bajo la curva es igual a 1.\n\n\nCode\nlibrary(ggplot2)\n\n# Crea el gr√°fico de densidad de pop2010\np &lt;- ggplot(d, aes(pop2010))+\n  \n      # Adiciona la geometr√≠a de densidad\n      geom_density()\n\n# Visualiza\np\n\n\n\n\n\nComo vemos, la curva de densidad nos muestra que la mayor√≠a de los estados tienen una poblaci√≥n baja, pero hay algunos con una poblaci√≥n muy alta. Se trata de la misma informaci√≥n que en el histograma anterior, pero no hay cortes bruscos como los generados por los intervalos. Esa caracter√≠stica evita posibles distorsiones ocasionadas por la elecci√≥n del n√∫mero o del tama√±o de los intervalos.\n\n\nBoxplot\nOtro gr√°fico de distribuci√≥n muy √∫til es el boxplot. Este gr√°fico muestra la distribuci√≥n de una variable cuantitativa a trav√©s de cinco estad√≠sticas: el m√≠nimo, el primer cuartil, la mediana, el tercer cuartil y el m√°ximo. Adem√°s, tambi√©n muestra los valores at√≠picos (outliers). Se emplea para analizar la dispersi√≥n y la simetr√≠a de los datos. Un diagrama donde las partes son sim√©tricas y la caja resulta muy peque√±a indica que los datos est√°n muy concentrados alrededor de la mediana. Por otro lado, una caja grande y asim√©trica indica que los datos est√°n dispersos y que hay una mayor dispersi√≥n hacia los mayores o menores valores.\nEl gr√°fico abajo crea un boxplot para la variable que mide el porcentaje de desempleo (unemploy) en cada estado. Para a√±adir valor, elegimos agrupar los estados por regi√≥n para saber si existe alg√∫n patr√≥n territorial en la distribuci√≥n del paro en EE. UU.\nLos par√°metros fill y group son necesarios para que el gr√°fico muestre una caja por cada regi√≥n. En el primer caso, se atribuye un color a cada regi√≥n y group se encarga de que cada regi√≥n tenga su propia caja.\n\n\nCode\np &lt;- ggplot(data = d,\n            mapping = aes(x=unemploy, \n                          y=region,\n                          fill=region,\n                          group=region)) + \n        geom_boxplot(width=0.1)\n\np\n\n\n\n\n\nVemos claramente dos patrones. De un lado, se encuentra el Oeste con estados con poco paro y otros con una tasa elevada. La dispersi√≥n resulta alta, tanto por los ‚Äúbigotes‚Äù como por el tama√±o de la caja. Adem√°s, los valores altos se encuentran m√°s dispersos, pues la caja es m√°s grande en la parte derecha. Por otro lado, el Noreste tiene una tasa de paro m√°s concentrada, aunque la dispersi√≥n resulta mayor en la parte superior de la caja.\n\n\nViolin plot\nEl violin plot es una combinaci√≥n de un boxplot y un density plot. Muestra la distribuci√≥n de una variable cuantitativa y la densidad de probabilidad de la misma. Es √∫til para comparar distribuciones entre diferentes grupos. En el siguiente gr√°fico, creamos un violin plot para la variable unemploy (tasa de paro) agrupada por regi√≥n. Vemos que resulta muy parecido al boxplot anterior, pero con la ventaja de mostrar la densidad de probabilidad de la variable, es decir, d√≥nde se concentran los valores. Aprovechamos para a√±adir los puntos de cada observaci√≥n con geom_jitter. As√≠ queda m√°s f√°cil entender por qu√© el gr√°fico tiene la forma que tiene.\n\n\nCode\np &lt;- ggplot(data = d,\n            mapping = aes(x=unemploy, \n                          y=region,\n                          group=region)) + \n        geom_violin()+\n        geom_jitter(aes(color=region))\n\np\n\n\n\n\n\n\n\nLollipop\nEl gr√°fico de lollipop es una variante del gr√°fico de barras. En lugar de barras, se utilizan segmentos de l√≠nea para representar las frecuencias de las categor√≠as. Es √∫til cuando se quiere resaltar una categor√≠a en particular. En el siguiente gr√°fico, creamos un lollipop para la variable abort_rank3, que representa la clasificaci√≥n de los estados seg√∫n su legislaci√≥n sobre el aborto.\nMientras que en los casos anteriores, cada gr√°fico ten√≠a una sola geometr√≠a, en el lollipop se combinan dos: geom_point (punto) y geom_segment (segmento de l√≠nea). Esta estrategia resulta muy com√∫n en la creaci√≥n de visualizaciones originales y personalizadas. Dominar la combinaci√≥n entre geometr√≠as puede ser muy √∫til para crear gr√°ficos m√°s complejos y atractivos.\n\n\nCode\nlibrary(ggplot2)\n\n# Crea una tabla ordenada con los\n# valores de abort_rank3\ntb &lt;- sort(table(d$abort_rank3))\n\n# La convierte en base de datos\n# para la funci√≥n ggplot\ntb &lt;- data.frame(tb)\n\n# Crea el gr√°fico de lollipop\np &lt;- ggplot(tb, \n            aes(y=Var1, \n                x=Freq)) +\n  \n  # A√±ade los puntos rojos\n  geom_point(color=\"red\") + \n  \n  # A√±ade los segmentos\n  geom_segment( aes(y=Var1, \n                    yend=Var1, \n                    x=0, \n                    xend=Freq))\n\n# Dibuja el gr√°fico\np\n\n\n\n\n\n\n\nTreemap\nUn treemap es un gr√°fico de proporciones representadas por √°reas o rect√°ngulos. Cuanto mayor sea el √°rea, mayor ser√° la frecuencia de una categor√≠a dada (representada por un rect√°ngulo). La principal ventaja de los treemaps es que permite representar datos jer√°rquicos. Por lo tanto, los grupos y subgrupos dentro de ellos pueden visualizarse f√°cilmente. Adem√°s, los treemaps permiten sintetizar muchos datos en un espacio relativamente peque√±o.\n\n\nCode\nlibrary(ggplot2)\n\n# Carga el paquete treemapify\nlibrary(treemapify)\n\n# Crea una tabla ordenada con\n# las pol√≠ticas de control de\n# la marijuana\ntb &lt;- sort(table(d$pot_policy))\n\n# Convierte en base de datos\ntb &lt;- data.frame(tb)\n\n# Crea el treemap usando la\n# geometr√≠a geom_treemap()\n# del paquete teemapify\n\n# Inicialmente, define\n# el gr√°fico con el √°rea, color\n# y etiqueta\np &lt;- ggplot(tb, \n            aes(area = Freq, \n                fill = Var1, \n                label=Var1)) +\n  \n  # A√±ade la geometr√≠a de\n  # treemap al gr√°fico\n  geom_treemap()\n\n# Visualiza el resultado\np\n\n\n\n\n\n\n\nBeeSwarm\nEl gr√°fico de beeswarm es una variante del scatter plot que permite visualizar la distribuci√≥n de una variable cuantitativa en funci√≥n de una variable categ√≥rica. Es √∫til para comparar la distribuci√≥n de una variable cuantitativa entre diferentes grupos. En el siguiente gr√°fico, creamos un beeswarm para la variable pop_65_older (poblaci√≥n de 65 a√±os o m√°s) agrupada por el nivel de democracia de los pa√≠ses. Adem√°s, a√±adimos el color seg√∫n la religi√≥n de los pa√≠ses.\nComo vemos, tambi√©n se parece mucho al violin plot anterior. Sin embargo, el beeswarm tiene la ventaja de mostrar cada observaci√≥n individual, lo que puede ser √∫til para detectar patrones o valores at√≠picos. Adem√°s, resulta m√°s atractivo visualmente, pues los puntos no se superponen y se distribuyen de forma m√°s uniforme. En este caso, a√±adimos la religi√≥n como informaci√≥n adicional para intentar encontrar alg√∫n patr√≥n en los datos.\n\n\nCode\nw &lt;- world\n\n# Carga los paquetes necesarios\nlibrary(ggplot2)        \nlibrary(ggbeeswarm)      \n\n# Crea el gr√°fico con el nivel de democracia\n# y la poblaci√≥n de 65 a√±os o m√°s\n# con color seg√∫n la religi√≥n\np &lt;- ggplot(data = w,\n            mapping = aes(x=dem_level4, \n                          y=pop_65_older, \n                          color=religoin)) \n\n# A√±adimos la geometr√≠a: geom_quasirandom()\np &lt;- p + geom_quasirandom(size=1.5)\n\n# Visualizamos los resultados\np\n\n\n\n\n\nComo vemos, las poblaciones de las democracias plenas presentan una mayor proporci√≥n de personas de 65 a√±os o m√°s. La autocracia, por otro lado, presenta una poblaci√≥n m√°s joven. Adem√°s, parece que la religi√≥n predominantes en los pa√≠ses con mayor proporci√≥n de personas de 65 a√±os y m√°s democr√°ticos es el cristianismo, mientras que los m√°s j√≥venes y autoritarios son en su mayor parte de mayor√≠a musulmana.\n\n\nRidge Plot\nEl gr√°fico de ridge es una variante del density plot que permite visualizar la distribuci√≥n de una variable cuantitativa en funci√≥n de una variable categ√≥rica. Es √∫til para comparar la distribuci√≥n de una variable cuantitativa entre diferentes grupos. En el siguiente gr√°fico, creamos un ridge para la variable frac_eth (fracci√≥n de etnias) agrupada por la religi√≥n de los pa√≠ses.\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggridges)\n\n# Crea el gr√°fico\n# con la relaci√≥n entre \n# fraccionamiento √©tnico y religi√≥n\np &lt;- ggplot(w,\n            aes(x=frac_eth, \n                y=religoin, \n                fill=religoin))\n\n# A√±ade la capa de geometr√≠a\np &lt;- p + geom_density_ridges()\n\n# Visualiza los resultados\np\n\n\n\n\n\nComo vemos, la distribuci√≥n de la fracci√≥n √©tnica var√≠a seg√∫n la religi√≥n predominante en los pa√≠ses. Los pa√≠ses con mayor√≠a musulmana presentan una mayor fracci√≥n √©tnica, mientras que los pa√≠ses con mayor√≠a cat√≥lica presentan una menor fracci√≥n √©tnica. Adem√°s, los pa√≠ses con mayor√≠a musulmana presentan una distribuci√≥n m√°s dispersa, mientras que los pa√≠ses con mayor√≠a budista presentan una distribuci√≥n m√°s concentrada. La categor√≠a ‚Äúotros cristianos‚Äù presenta una distribuci√≥n m√°s dispersa, con dos picos.\n\n\nRaincloud Chart\nEl gr√°fico de raincloud resulta muy divertido. Combina un violin plot, un box plot y un scatter plot en un solo gr√°fico. Se llama as√≠, porque las curvas de densidad se asemejan a nubes y los puntos dispersos representados abajo parecen gotas de lluvia. Como en versiones anteriores que hemos elaborado m√°s arriba, tenemos una representaci√≥n sint√©tica (una curva que describe la densidad o el comportamiento de los datos) y unos puntos que representa la posici√≥n aproximada de cada observaci√≥n. En el siguiente gr√°fico, creamos un raincloud para la variable pop_65_older (poblaci√≥n de 65 a√±os o m√°s) agrupada por el nivel de democracia de los pa√≠ses.\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggridges)\n\n# Creamos el gr√°fico, los datos son w, y las\n# variables: y=dem_level4 y x=pop_65_older,\n# el color es fill=dem_level4\np &lt;- ggplot(w,\n       aes(y = dem_level4, \n           x = pop_65_older, \n           fill = dem_level4)) \n\n# Ahora adiciona la geometr√≠a, \n# que incorpora los pujntos y\n# las l√≠neas que identifica los\n# cuartiles\np &lt;- p + geom_density_ridges(\n              jittered_points = TRUE,\n              position = \"raincloud\",\n              alpha=0.6,                            \n              quantile_lines = TRUE)\n\n# Visualiza el resultado\np"
  },
  {
    "objectID": "tipos.html#asociaci√≥n-o-correlaci√≥n",
    "href": "tipos.html#asociaci√≥n-o-correlaci√≥n",
    "title": "Tiposde gr√°fico",
    "section": "Asociaci√≥n o correlaci√≥n",
    "text": "Asociaci√≥n o correlaci√≥n\nLos gr√°ficos de asociaci√≥n o correlaci√≥n son √∫tiles para visualizar la relaci√≥n entre dos o m√°s variables cuantitativas. Nos ayudan a identificar los v√≠nculos entre fen√≥menos medidos de forma continua y formular hip√≥tesis sobre su relaci√≥n.\n\nDiagrama de dispersi√≥n\nUn diagrama de dispersi√≥n o scatterplot es una de las formas m√°s sencillas y efectivas de visualizar la relaci√≥n entre dos variables cuantitativas. Cada punto en el gr√°fico representa una observaci√≥n y su posici√≥n en los ejes x e y indica los valores de las dos variables. Resulta tan com√∫n que su interpretaci√≥n es bastante intuitiva. Permite, adem√°s, que a√±adamos dos o tres variables m√°s, como el color, el tama√±o o la forma de los puntos, para representar informaci√≥n adicional.\nEn el siguiente ejemplo, creamos un diagrama de dispersi√≥n para visualizar la relaci√≥n entre la variable hdi (√≠ndice de desarrollo humano) y la variable dem_score14 (puntuaci√≥n de democracia). Adem√°s, coloreamos los puntos seg√∫n la religi√≥n mayoritaria (religoin), cada continente (regionun) estar√° representado por una forma distinta y definiremos el tama√±o empleando el porcentaje de personas con 65 a√±os o m√°s (pop_65_older).\n\n\nCode\nlibrary(ggplot2)\n\n# Crea el gr√°fico\np &lt;- ggplot(w)\n\n# Capa est√©tica con la religi√≥n\n# como color\np &lt;- p+ aes(x=hdi, \n            y=dem_score14,\n            color=religoin,\n            size=pop_65_older,\n            shape=regionun)\n\n\n# Capa geom√©trica\np &lt;- p +geom_point()\n\n# Visualiza el gr√°fico\np\n\n\n\n\n\nTenemos un gr√°fico verdaderamente horrible. No obstante, solo quer√≠a demostraros que es posible a√±adir m√°s de dos variables a un diagrama de dispersi√≥n. En este caso, tenemos cinco: desarrollo humano, democracia, continente, religi√≥n y porcentaje de personas mayores de 65 a√±os. Aunque se pueda hacer, como hab√©is visto, ni siempre es recomendable o √∫til. En este caso, la visualizaci√≥n resulta confusa y poco informativa. Por tanto, es mejor limitar el n√∫mero de variables a dos o tres para que el gr√°fico sea m√°s f√°cil de interpretar:\n\n\nCode\nlibrary(ggplot2)\n\n# Crea el gr√°fico\np &lt;- ggplot(w)\n\n# Capa est√©tica con la religi√≥n\n# como color\np &lt;- p+ aes(x=hdi, \n            y=dem_score14,\n            color=religoin)\n\n\n# Capa geom√©trica\np &lt;- p +geom_point()\n\n# Visualiza el gr√°fico\np\n\n\n\n\n\n\n\nCorrelograma\n¬øQu√© pasa cuando queremos comparar el grado de asociaci√≥n entre muchas variables cuantitativas de una sola vez? En este caso, el correlograma es una herramienta muy √∫til. Un correlograma es una matriz en la que cada celda representa el coeficiente de correlaci√≥n entre dos variables. Los valores de la correlaci√≥n pueden variar entre -1 y 1. Un valor de 1 indica una correlaci√≥n positiva perfecta, un valor de -1 indica una correlaci√≥n negativa perfecta y un valor de 0 indica que no hay correlaci√≥n entre las variables. Los correlogramas son √∫tiles para identificar patrones de correlaci√≥n entre variables y seleccionar las variables m√°s relevantes para un an√°lisis m√°s detallado.\nEn el siguiente ejemplo, creamos un correlograma para visualizar la correlaci√≥n entre las variables gini10, dem_score14, literacy, lifeex_total, hdi, pop_urban, frac_eth y gdppcap08.\n\n\nCode\n# Carga el paquete necesario\nlibrary(ggcorrplot)\n\n# Crea una lista de variables\n# de inter√©s\nvar &lt;- c(\"gini10\",\"dem_score14\",\n         \"literacy\",\"lifeex_total\",\n         \"hdi\",\"pop_urban\",\"frac_eth\",\n         \"gdppcap08\")\n\n# Calcula la matriz de correlaci√≥n\ncorr &lt;- round(cor(w[,var], \n                  use=\"pairwise.complete.obs\"), \n              3)\n\n# Visualiza los resultados\nggcorrplot(corr, \n           lab_size = 3,\n           show.diag = F,\n           hc.order = T,\n           lab=T)\n\n\n\n\n\nEl patr√≥n que emerge resulta claro: el fraccionamiento √©tnico (frac_eth) y el √≠ndice de desigualdad de renta (gini10) est√°n negativamente correlacionados con todas las dem√°s variables (que presentan una asociaci√≥n positiva). Es decir, la fraccionalizaci√≥n √©tnica y la desigualdad no ‚Äúcasan‚Äù muy bien con la riqueza (gdppcap08), la urbanizaci√≥n (pop_urban), el desarrollo humano (hdi), la esperanza de vida (lifeex_total), la alfabetizaci√≥n (literacy) o la democracia (dem_score14)."
  },
  {
    "objectID": "tipos.html#conexi√≥n",
    "href": "tipos.html#conexi√≥n",
    "title": "Tiposde gr√°fico",
    "section": "Conexi√≥n",
    "text": "Conexi√≥n\nLos gr√°ficos de conexi√≥n son √∫tiles para visualizar datos de red. Nos permiten representar las relaciones entre diferentes entidades (nodos) y las interacciones entre ellas (v√≠nculos). Los gr√°ficos de conexi√≥n son √∫tiles para visualizar flujos de informaci√≥n, rutas de transporte, relaciones comerciales, interpersonales, etc.\n\nRed\nUn gr√°fico de red o sociograma es una representaci√≥n visual de una red social. Se compone de dos unidades b√°sicas: los nodos (o v√©rtices) y los v√≠nculos (o aristas). Los nodos son los puntos de la red y pueden representar a individuos, organizaciones, pa√≠ses, ciudades, etc. Los v√≠nculos son las conexiones entre ellos y pueden se√±alar relaciones de amistad, colaboraci√≥n, intercambio. Puede ser una red de ciudades, de empresas, de personas, de p√°ginas web, entre muchos otras aplicaciones.\nEn el siguiente ejemplo, creamos un gr√°fico de red para visualizar los flujos de visitas de la presidenta Dilma Rousseff entre diferentes ciudades de Brasil durante el mes anterior a las elecci√≥nes presidenciales de 2014. La base de datos contiene informaci√≥n sobre el n√∫mero de visitas entre diferentes ciudades, as√≠ como el n√∫mero total de viajes realizados. Se ha obtenido a partir del an√°lisis de los peri√≥dicos que cubrieron la campa√±a electoral.\n\n\nCode\n# Abre la base de datos\ndi &lt;- read.delim(\"https://www.dropbox.com/s/r8309gzg3rymajr/Visitas_Dilma_redux.csv?dl=1\", \n                 sep=\";\", \n                 dec=\",\")\n\n# Seleccoiona las variables\ndi &lt;- unique(di[,c(\"NOM_O\",\"NOM_D\",\n                   \"FREQ\",\"VISITS\")])\n\n\nnames(di) &lt;- c(\"Origen\",\"Destino\",\n               \"Viajes\",\"Visitas\")\n\n\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggnetwork)\n\n# Convierte la base de datos\n# en un layout de red\nn &lt;- ggnetwork(di)\n\n# Crea el gr√°fico con las\n# capas de datos y est√©tica\np &lt;- ggplot(n, \n       aes(x = x, \n           y = y, \n           xend = xend, \n           yend = yend))\n\n# A√±ade la capa de v√≠nculos (aristas)\np &lt;- p + geom_edges(\n          aes(size=Viajes),\n               color = \"red3\", \n               alpha=0.1,           \n               curvature = 0.25)    \n\n# Ahora, a√±ade los puntos (nodos)\n# a la red anterior\np &lt;- p + geom_nodes(aes(size=Visitas), \n            color=\"red3\")\n\n# Adiciona los nombres de las ciudades\np &lt;- p + geom_nodetext_repel(\n  aes(\n    label = vertex.names))\n\n# Elimina el tema y la leyenda\np &lt;- p + theme_blank() +\n         theme(legend.position = \"none\")\n\n# Visualiza los resultados\np\n\n\n\n\n\nSe observa que la candidata se desplaza principalmente entre las ciudades de S√£o Paulo, Bras√≠lia, R√≠o de Janeiro y Porto Alegre. Los constantes regresos a Bras√≠lia revelan la necesidad de conciliar las agendas de candidata con la de presidenta. R√≠o y S√£o Paulo, por su parte, son los principales centros econ√≥micos y pol√≠ticos del pa√≠s, mientras que Porto Alegre es la ciudad natal de la candidata. Vemos tambi√©n que ha visitado otras ciudades, pero estas ocupan un lugar m√°s perif√©rico en la red."
  },
  {
    "objectID": "tipos.html#tiempo-flujo-evoluci√≥n",
    "href": "tipos.html#tiempo-flujo-evoluci√≥n",
    "title": "Tiposde gr√°fico",
    "section": "Tiempo / Flujo / Evoluci√≥n",
    "text": "Tiempo / Flujo / Evoluci√≥n\nLos gr√°ficos de tiempo o flujo son √∫tiles para visualizar la evoluci√≥n de una variable a lo largo del tiempo. Nos permiten identificar tendencias, patrones y ciclos en los datos. Entre las aplicaciones posibles encontramos las series temporales, flujos de informaci√≥n, movimientos de poblaci√≥n, entre otros.\nPrepara la base de Brasil\n\n\nCode\nYear &lt;- c(1985:2019)\n\nGini &lt;- c(55.6,58.5,59.7,61.4,63.3,60.5,60.3,60.2,60.1,59.9,59.6,59.9,59.8,59.6,59.0,58.7,58.4,58.1,57.6,56.5,56.3,55.6,54.9,54.0,53.7,53.3,52.9,53.4,52.7,52.0,51.9,53.3,53.3,53.9,53.5)\n\nAdministration &lt;- c(\"Sarney\",\"Sarney\",\"Sarney\",\"Sarney\",\"Sarney\",\"Collor\",\"Collor\",\"Collor\",\"Itamar\",\"Itamar\",\"FHC\",\"FHC\",\"FHC\",\"FHC\",\"FHC\",\"FHC\",\"FHC\",\"FHC\",\"Lula\",\"Lula\",\"Lula\",\"Lula\",\"Lula\",\"Lula\",\"Lula\",\"Lula\",\"Dilma\",\"Dilma\",\"Dilma\",\"Dilma\",\"Dilma\",\"Dilma\",\"Temer\",\"Temer\",\"Bolsonaro\")\n\nGrowth &lt;- c(7.9,7.5,3.5,-0.1,3.2,-4.4,1.0,-0.5,4.9,5.9,4.2,2.2,3.4,0.3,0.5,4.4,1.4,3.1,1.1,5.8,3.2,4.0,6.1,5.1,-0.1,7.5,4.0,1.9,3.0,0.5,-3.5,-3.3,1.3,1.8,1.2)\n\nGDP &lt;- c(836,898,930,930,959,917,927,922,967,1024,1067,1090,1127,1131,1137,1186,1203,1240,1254,1326,1368,1423,1509,1586,1584,1703,1771,1805,1859,1868,1802,1743,1766,1798,1820)\n\nbr &lt;- data.frame(Year=Year, \n                 GDP=GDP, \n                 Growth=Growth, \n                 Gini=Gini, \n                 Administration=Administration)\n\n\nbrs &lt;- data.frame()\n\nfor(i in 1:nrow(br)){\n  \n  if (i&lt;nrow(br)){\n    k &lt;- i+1\n  }else{\n    k &lt;- i\n  }\n  \n  brs &lt;- rbind(brs,\n               data.frame(\n                      x1=br$Year[i],\n                    xend=br$Year[k],\n                      y1=br$Gini[i],\n                      yend=br$Gini[k],\n Administration=br$Administration[i])\n              )\n  \n}\n\nbrs2 &lt;- data.frame()\n\nfor(i in 1:nrow(br)){\n  \n  if (i&lt;nrow(br)){\n    k &lt;- i+1\n  }else{\n    k &lt;- i\n  }\n  \n  brs2 &lt;- rbind(brs2,\n               data.frame(\n                      x1=br$GDP[i],\n                    xend=br$GDP[k],\n                      y1=br$Gini[i],\n                      yend=br$Gini[k],\n Administration=br$Administration[i],\n                      Year=Year[i])\n              )\n  \n}\n\n\n\nL√≠nea\nEl gr√°fico de l√≠neas es una de las formas m√°s comunes de visualizar datos temporales. Se compone de dos ejes: el eje horizontal representa el tiempo y el eje vertical la variable de inter√©s. Se utiliza para visualizar la evoluci√≥n de una variable a lo largo del tiempo, identificar tendencias, patrones y ciclos.\nEl c√≥digo abajo muestra c√≥mo crear un gr√°fico de l√≠neas para visualizar la evoluci√≥n del √≠ndice de desigualdad de renta en Brasil entre 1985 y 2019. La base de datos contiene informaci√≥n sobre el √≠ndice de Gini en Brasil, as√≠ como el a√±o correspondiente. Se ha obtenido a partir de la base de datos del Banco Mundial.\n\n\nCode\n# Prepara el gr√°fico\np &lt;- ggplot(br, \n            aes(x=Year, y=Gini))+\n      geom_line()\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nConnected scatterplot\nEl gr√°fico de dispersi√≥n conectado es una variante del gr√°fico de l√≠neas que permite visualizar la relaci√≥n entre dos variables a lo largo del tiempo. Se trata de conectar los puntos por medio de segmentos de l√≠nea para resaltar la evoluci√≥n de la variable en el tiempo. El gr√°fico abajo muestra la evoluci√≥n de la desigualdad en Brasil entre 1985 y 2019, pero ahora, marca los cambios de gobierno en el pa√≠s.\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggrepel)\n\n# Crea el gr√°fico\np &lt;- ggplot(brs, \n            aes(x=Year, \n                y=Gini,\n                fill=Administration))\n\n# A√±ade segmentos de l√≠nea para\n# cada gobierno\np &lt;- p + geom_segment(\n                      aes(x=x1,\n                          xend=xend,\n                          y=y1,\n                          yend=yend,\n                          color=Administration))\n\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nArea\nEl gr√°fico de √°rea es una variante del gr√°fico de l√≠neas que rellena el √°rea entre la l√≠nea y el eje horizontal. El cambio puede parecer insignificante, pero posibilita la percepci√≥n de cambios importantes en vol√∫menes. En el ejemplo abajo, se muestra la evoluci√≥n del crecimiento econ√≥mico en Brasil entre 1985 y 2019.\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\n\n# Prepara el gr√°fico\np &lt;- ggplot(br, \n            aes(y=Growth, \n                x=Year))+\n      geom_area(fill=\"darkgreen\")\n\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nDumbbell\nEl gr√°fico de pesas rusas (dumbbell) es una variante del gr√°fico de l√≠neas que permite visualizar la evoluci√≥n de dos variables a lo largo del tiempo. Se compone de dos o m√°s puntos conectados por un segmento de l√≠nea. Es √∫til para comparar dos valores en diferentes momentos y visualizar la evoluci√≥n de la variable en el tiempo. El gr√°fico abajo muestra la evoluci√≥n de la proporci√≥n de la riqueza concentrada por el 10% m√°s rico de en los pa√≠ses de Am√©rica Latina en 2000, 2010 y 2019.\nPrimero, prepara los datos:\n\n\nCode\nlibrary(vdemdata)\n\ndem&lt;- vdem\n\ndm &lt;- dem[,c(\"country_name\",\"year\",\"v2x_polyarchy\",\"v2x_libdem\",\"v2x_partipdem\",\"v2x_delibdem\",\"v2x_egaldem\")]\n\nnames(dm) &lt;- c(\"Country\",\"Year\",\"Electoral\",\"Liberal\",\"Participative\",\"Deliberative\",\"Egalitarian\")\n\n\nco &lt;- c(\"Argentina\",\"Bolivia\",\"Brazil\",\"Chile\",\"Colombia\",\"Costa Rica\",\"Dominican Republic\",\"Ecuador\",\"Honduras\",\"Mexico\",\"Panama\",\"Peru\",\"Paraguay\",\"El Salvador\",\"Uruguay\")\n\ndml &lt;- dm[dm$Country%in%c(co,\"Nicaragua\",\"Venezuela\"),]\n\nye &lt;- c(rep(2000,length(co)),rep(2010,length(co)),\n        rep(2020,length(co)))\n\ntop &lt;- c(37.7,47.8,47,42.6,47,35.7,40.2,45.9,41.9,42,43.2,36.8,42.1,39,35.4,31.7,36.9,42.2,38.2,43.4,36.8,36.5,37.5,40.2,37.1,39.7,34.2,40.5,33.2,33.6,30.3,32.6,39.4,35.8,42.2,37,30.5,36,34.6,35.5,38,32.9,33.3,29.8,29.9)\n\nlat &lt;- data.frame(Country=c(co,co,co), Year=as.character(ye), Share=top)\n\n\nLuego, el gr√°fico:\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\n\n# Obtiene el orden de los pa√≠ses seg√∫n\n# la proporci√≥n de riqueza apropiada por\n# los 10% m√°s ricos (de los m√°s a los menos).\nlevels &lt;- lat[\n              order(\n                lat$Share[lat$Year==2000], \n                decreasing = T),\n              c(\"Country\")]\n\n# Reordena la base de datos seg√∫n los niveles\n# obtenidos en 2000 (esto es importante para que el \n# gr√°fico salga bonito y f√°cil de interpretar)\nlat$Country &lt;- factor(lat$Country, \n                      levels=levels)\n\n# Genera el gr√°fico\np &lt;- ggplot(lat,\n            aes(y=Country, \n                x=Share))\n\n# Adiciona los segmentos de l√≠nea\n# conectando cada per√≠odo\np &lt;- p + geom_line(color=\"grey85\")\n\n# A√±ade puntos y los colorea de\n# acuerdo al a√±o (Year)\np &lt;- p + geom_point(aes(color=Year))\n\n# Visualiza los resultados\np\n\n\n\n\n\nSe observa que la mayor√≠a de los pa√≠ses han experimentado una reducci√≥n en la concentraci√≥n de la riqueza en manos del 10% m√°s rico, con excepci√≥n de Costa Rica, que ha experimentado un aumento en el mismo per√≠odo. Resulta notable el caso de Bolivia, que ha experimentado una reducci√≥n significativa en la concentraci√≥n de la riqueza en manos del 10% m√°s rico en el per√≠odo analizado, que pasa de ser el pa√≠s m√°s desigual al quinto menos desigual en la regi√≥n en 2020."
  },
  {
    "objectID": "tipos.html#espacio",
    "href": "tipos.html#espacio",
    "title": "Tiposde gr√°fico",
    "section": "Espacio",
    "text": "Espacio\nLos gr√°ficos espaciales son √∫tiles para visualizar la distribuci√≥n geogr√°fica de una variable. Nos permiten identificar patrones, tendencias y relaciones espaciales en los datos. Entre las aplicaciones posibles encontramos la distribuci√≥n de la poblaci√≥n, la concentraci√≥n de la riqueza, la distribuci√≥n de la pobreza, entre otros.\n\nMapa de coropletas\nUn mapa de coropletas es una forma de visualizaci√≥n espacial que consiste en colorear √°reas geogr√°ficas de acuerdo a una variable de inter√©s. Es √∫til para visualizar la distribuci√≥n geogr√°fica de una variable y compararla entre diferentes √°reas. En el ejemplo abajo, se muestra la distribuci√≥n de los condados de Carolina del Norte seg√∫n su √°rea. Los condados m√°s grandes se muestran en tonos m√°s oscuros, mientras que los m√°s peque√±os aparecen m√°s claros.\n\n\nCode\n# Carga los paquetes\nlibrary(ggthemes)\nlibrary(ggplot2)\nlibrary(sf)\n\n# Carga los datos de\n# los condados de Carolina \n# del Norte\nnc &lt;- st_read(system.file(\"shape/nc.shp\", \n                          package = \"sf\"), \n              quiet = TRUE)\n\n# Crea el gr√°fico y lo colorea\n# seg√∫n el √°rea\ngg &lt;- ggplot(nc) +\n  geom_sf(aes(fill = AREA))\n  \n# Visualiza los resultados  \ngg"
  }
]